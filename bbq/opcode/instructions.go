// Code generated by gen/main.go from instructions.yml. DO NOT EDIT.

package opcode

import (
	"strings"

	"github.com/onflow/cadence/bbq/constant"
	"github.com/onflow/cadence/common"
	"github.com/onflow/cadence/errors"
	"github.com/onflow/cadence/interpreter"
)

// InstructionUnknown
//
// An unknown instruction.
type InstructionUnknown struct {
}

var _ Instruction = InstructionUnknown{}

func (InstructionUnknown) Opcode() Opcode {
	return Unknown
}

func (i InstructionUnknown) String() string {
	return i.Opcode().String()
}

func (i InstructionUnknown) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionUnknown) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionUnknown) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionUnknown) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionUnknown{}
}

// InstructionGetLocal
//
// Pushes the value of the local at the given index onto the stack.
type InstructionGetLocal struct {
	Local uint16
}

var _ Instruction = InstructionGetLocal{}

func (InstructionGetLocal) Opcode() Opcode {
	return GetLocal
}

func (i InstructionGetLocal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionGetLocal) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "local", i.Local, colorize)
}

func (i InstructionGetLocal) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "local", i.Local, colorize)
}

func (i InstructionGetLocal) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Local)
}

func DecodeGetLocal(ip *uint16, code []byte) (i InstructionGetLocal) {
	i.Local = decodeUint16(ip, code)
	return i
}

func (i InstructionGetLocal) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGetLocal{
		Local: i.Local,
	}
}

// InstructionSetLocal
//
// Pops a value off the stack and then sets the local at the given index to that value.
type InstructionSetLocal struct {
	Local     uint16
	IsTempVar bool
}

var _ Instruction = InstructionSetLocal{}

func (InstructionSetLocal) Opcode() Opcode {
	return SetLocal
}

func (i InstructionSetLocal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionSetLocal) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "local", i.Local, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "isTempVar", i.IsTempVar, colorize)
}

func (i InstructionSetLocal) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "local", i.Local, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "isTempVar", i.IsTempVar, colorize)
}

func (i InstructionSetLocal) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Local)
	emitBool(code, i.IsTempVar)
}

func DecodeSetLocal(ip *uint16, code []byte) (i InstructionSetLocal) {
	i.Local = decodeUint16(ip, code)
	i.IsTempVar = decodeBool(ip, code)
	return i
}

func (i InstructionSetLocal) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSetLocal{
		Local:     i.Local,
		IsTempVar: i.IsTempVar,
	}
}

// InstructionGetUpvalue
//
// Pushes the value of the upvalue at the given index onto the stack.
type InstructionGetUpvalue struct {
	Upvalue uint16
}

var _ Instruction = InstructionGetUpvalue{}

func (InstructionGetUpvalue) Opcode() Opcode {
	return GetUpvalue
}

func (i InstructionGetUpvalue) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionGetUpvalue) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "upvalue", i.Upvalue, colorize)
}

func (i InstructionGetUpvalue) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "upvalue", i.Upvalue, colorize)
}

func (i InstructionGetUpvalue) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Upvalue)
}

func DecodeGetUpvalue(ip *uint16, code []byte) (i InstructionGetUpvalue) {
	i.Upvalue = decodeUint16(ip, code)
	return i
}

func (i InstructionGetUpvalue) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGetUpvalue{
		Upvalue: i.Upvalue,
	}
}

// InstructionSetUpvalue
//
// Pops a value off the stack and then sets the upvalue at the given index to that value.
type InstructionSetUpvalue struct {
	Upvalue uint16
}

var _ Instruction = InstructionSetUpvalue{}

func (InstructionSetUpvalue) Opcode() Opcode {
	return SetUpvalue
}

func (i InstructionSetUpvalue) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionSetUpvalue) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "upvalue", i.Upvalue, colorize)
}

func (i InstructionSetUpvalue) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "upvalue", i.Upvalue, colorize)
}

func (i InstructionSetUpvalue) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Upvalue)
}

func DecodeSetUpvalue(ip *uint16, code []byte) (i InstructionSetUpvalue) {
	i.Upvalue = decodeUint16(ip, code)
	return i
}

func (i InstructionSetUpvalue) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSetUpvalue{
		Upvalue: i.Upvalue,
	}
}

// InstructionCloseUpvalue
//
// Closes the upvalue for the local at the given index.
type InstructionCloseUpvalue struct {
	Local uint16
}

var _ Instruction = InstructionCloseUpvalue{}

func (InstructionCloseUpvalue) Opcode() Opcode {
	return CloseUpvalue
}

func (i InstructionCloseUpvalue) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionCloseUpvalue) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "local", i.Local, colorize)
}

func (i InstructionCloseUpvalue) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "local", i.Local, colorize)
}

func (i InstructionCloseUpvalue) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Local)
}

func DecodeCloseUpvalue(ip *uint16, code []byte) (i InstructionCloseUpvalue) {
	i.Local = decodeUint16(ip, code)
	return i
}

func (i InstructionCloseUpvalue) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionCloseUpvalue{
		Local: i.Local,
	}
}

// InstructionGetGlobal
//
// Pushes the value of the global at the given index onto the stack.
type InstructionGetGlobal struct {
	Global uint16
}

var _ Instruction = InstructionGetGlobal{}

func (InstructionGetGlobal) Opcode() Opcode {
	return GetGlobal
}

func (i InstructionGetGlobal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionGetGlobal) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "global", i.Global, colorize)
}

func (i InstructionGetGlobal) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "global", i.Global, colorize)
}

func (i InstructionGetGlobal) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Global)
}

func DecodeGetGlobal(ip *uint16, code []byte) (i InstructionGetGlobal) {
	i.Global = decodeUint16(ip, code)
	return i
}

func (i InstructionGetGlobal) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGetGlobal{
		Global: i.Global,
	}
}

// InstructionSetGlobal
//
// Pops a value off the stack and then sets the global at the given index to that value.
type InstructionSetGlobal struct {
	Global uint16
}

var _ Instruction = InstructionSetGlobal{}

func (InstructionSetGlobal) Opcode() Opcode {
	return SetGlobal
}

func (i InstructionSetGlobal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionSetGlobal) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "global", i.Global, colorize)
}

func (i InstructionSetGlobal) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "global", i.Global, colorize)
}

func (i InstructionSetGlobal) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Global)
}

func DecodeSetGlobal(ip *uint16, code []byte) (i InstructionSetGlobal) {
	i.Global = decodeUint16(ip, code)
	return i
}

func (i InstructionSetGlobal) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSetGlobal{
		Global: i.Global,
	}
}

// InstructionGetField
//
// Pops a value off the stack, the target,
// and then pushes the value of the field at the given index onto the stack.
type InstructionGetField struct {
	FieldName    uint16
	AccessedType uint16
}

var _ Instruction = InstructionGetField{}

func (InstructionGetField) Opcode() Opcode {
	return GetField
}

func (i InstructionGetField) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionGetField) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "fieldName", i.FieldName, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "accessedType", i.AccessedType, colorize)
}

func (i InstructionGetField) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfConstantArgument(sb, "fieldName", program.GetConstants()[i.FieldName], colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "accessedType", program.GetTypes()[i.AccessedType], colorize)
}

func (i InstructionGetField) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.FieldName)
	emitUint16(code, i.AccessedType)
}

func DecodeGetField(ip *uint16, code []byte) (i InstructionGetField) {
	i.FieldName = decodeUint16(ip, code)
	i.AccessedType = decodeUint16(ip, code)
	return i
}

func (i InstructionGetField) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGetField{
		FieldName:    program.GetConstants()[i.FieldName],
		AccessedType: program.GetTypes()[i.AccessedType],
	}
}

// InstructionRemoveField
//
// Pops a value off the stack, the target.
// Remove the value of the given field from the target, and pushes it onto the stack.
type InstructionRemoveField struct {
	FieldName uint16
}

var _ Instruction = InstructionRemoveField{}

func (InstructionRemoveField) Opcode() Opcode {
	return RemoveField
}

func (i InstructionRemoveField) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionRemoveField) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "fieldName", i.FieldName, colorize)
}

func (i InstructionRemoveField) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfConstantArgument(sb, "fieldName", program.GetConstants()[i.FieldName], colorize)
}

func (i InstructionRemoveField) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.FieldName)
}

func DecodeRemoveField(ip *uint16, code []byte) (i InstructionRemoveField) {
	i.FieldName = decodeUint16(ip, code)
	return i
}

func (i InstructionRemoveField) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionRemoveField{
		FieldName: program.GetConstants()[i.FieldName],
	}
}

// InstructionSetField
//
// Pops two values off the stack, the target and the value,
// and then sets the field at the given index of the target to the value.
type InstructionSetField struct {
	FieldName    uint16
	AccessedType uint16
}

var _ Instruction = InstructionSetField{}

func (InstructionSetField) Opcode() Opcode {
	return SetField
}

func (i InstructionSetField) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionSetField) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "fieldName", i.FieldName, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "accessedType", i.AccessedType, colorize)
}

func (i InstructionSetField) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfConstantArgument(sb, "fieldName", program.GetConstants()[i.FieldName], colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "accessedType", program.GetTypes()[i.AccessedType], colorize)
}

func (i InstructionSetField) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.FieldName)
	emitUint16(code, i.AccessedType)
}

func DecodeSetField(ip *uint16, code []byte) (i InstructionSetField) {
	i.FieldName = decodeUint16(ip, code)
	i.AccessedType = decodeUint16(ip, code)
	return i
}

func (i InstructionSetField) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSetField{
		FieldName:    program.GetConstants()[i.FieldName],
		AccessedType: program.GetTypes()[i.AccessedType],
	}
}

// InstructionGetIndex
//
// Pops two values off the stack, the array and the index,
// and then pushes the value at the given index of the array onto the stack.
type InstructionGetIndex struct {
}

var _ Instruction = InstructionGetIndex{}

func (InstructionGetIndex) Opcode() Opcode {
	return GetIndex
}

func (i InstructionGetIndex) String() string {
	return i.Opcode().String()
}

func (i InstructionGetIndex) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionGetIndex) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionGetIndex) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionGetIndex) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGetIndex{}
}

// InstructionRemoveIndex
//
// Pops two values off the stack, the array and the index.
// Removes the value at the given index from the array and pushes it onto the stack.
// If pushPlaceholder is true, also pushes the placeholder value that was inserted, if any, or nil otherwise.
type InstructionRemoveIndex struct {
	PushPlaceholder bool
}

var _ Instruction = InstructionRemoveIndex{}

func (InstructionRemoveIndex) Opcode() Opcode {
	return RemoveIndex
}

func (i InstructionRemoveIndex) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionRemoveIndex) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "pushPlaceholder", i.PushPlaceholder, colorize)
}

func (i InstructionRemoveIndex) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "pushPlaceholder", i.PushPlaceholder, colorize)
}

func (i InstructionRemoveIndex) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitBool(code, i.PushPlaceholder)
}

func DecodeRemoveIndex(ip *uint16, code []byte) (i InstructionRemoveIndex) {
	i.PushPlaceholder = decodeBool(ip, code)
	return i
}

func (i InstructionRemoveIndex) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionRemoveIndex{
		PushPlaceholder: i.PushPlaceholder,
	}
}

// InstructionSetIndex
//
// Pops three values off the stack, the array, the index, and the value,
// and then sets the value at the given index of the array to the value.
type InstructionSetIndex struct {
}

var _ Instruction = InstructionSetIndex{}

func (InstructionSetIndex) Opcode() Opcode {
	return SetIndex
}

func (i InstructionSetIndex) String() string {
	return i.Opcode().String()
}

func (i InstructionSetIndex) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionSetIndex) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionSetIndex) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionSetIndex) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSetIndex{}
}

// InstructionVoid
//
// Pushes the void value onto the stack.
type InstructionVoid struct {
}

var _ Instruction = InstructionVoid{}

func (InstructionVoid) Opcode() Opcode {
	return Void
}

func (i InstructionVoid) String() string {
	return i.Opcode().String()
}

func (i InstructionVoid) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionVoid) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionVoid) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionVoid) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionVoid{}
}

// InstructionTrue
//
// Pushes the boolean value `true` onto the stack.
type InstructionTrue struct {
}

var _ Instruction = InstructionTrue{}

func (InstructionTrue) Opcode() Opcode {
	return True
}

func (i InstructionTrue) String() string {
	return i.Opcode().String()
}

func (i InstructionTrue) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionTrue) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionTrue) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionTrue) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionTrue{}
}

// InstructionFalse
//
// Pushes the boolean value `false` onto the stack.
type InstructionFalse struct {
}

var _ Instruction = InstructionFalse{}

func (InstructionFalse) Opcode() Opcode {
	return False
}

func (i InstructionFalse) String() string {
	return i.Opcode().String()
}

func (i InstructionFalse) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionFalse) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionFalse) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionFalse) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionFalse{}
}

// InstructionNil
//
// Pushes the value `nil` onto the stack.
type InstructionNil struct {
}

var _ Instruction = InstructionNil{}

func (InstructionNil) Opcode() Opcode {
	return Nil
}

func (i InstructionNil) String() string {
	return i.Opcode().String()
}

func (i InstructionNil) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionNil) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionNil) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionNil) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNil{}
}

// InstructionNewSimpleComposite
//
// Creates a new instance of a simple composite value of given kind and type, at address 0x0,
// and then pushes it onto the stack.
type InstructionNewSimpleComposite struct {
	Kind common.CompositeKind
	Type uint16
}

var _ Instruction = InstructionNewSimpleComposite{}

func (InstructionNewSimpleComposite) Opcode() Opcode {
	return NewSimpleComposite
}

func (i InstructionNewSimpleComposite) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionNewSimpleComposite) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "kind", i.Kind, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
}

func (i InstructionNewSimpleComposite) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "kind", i.Kind, colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
}

func (i InstructionNewSimpleComposite) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitCompositeKind(code, i.Kind)
	emitUint16(code, i.Type)
}

func DecodeNewSimpleComposite(ip *uint16, code []byte) (i InstructionNewSimpleComposite) {
	i.Kind = decodeCompositeKind(ip, code)
	i.Type = decodeUint16(ip, code)
	return i
}

func (i InstructionNewSimpleComposite) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNewSimpleComposite{
		Kind: i.Kind,
		Type: program.GetTypes()[i.Type],
	}
}

// InstructionNewComposite
//
// Creates a new instance of the given composite kind and type, at address 0x0,
// and then pushes it onto the stack.
type InstructionNewComposite struct {
	Kind common.CompositeKind
	Type uint16
}

var _ Instruction = InstructionNewComposite{}

func (InstructionNewComposite) Opcode() Opcode {
	return NewComposite
}

func (i InstructionNewComposite) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionNewComposite) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "kind", i.Kind, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
}

func (i InstructionNewComposite) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "kind", i.Kind, colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
}

func (i InstructionNewComposite) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitCompositeKind(code, i.Kind)
	emitUint16(code, i.Type)
}

func DecodeNewComposite(ip *uint16, code []byte) (i InstructionNewComposite) {
	i.Kind = decodeCompositeKind(ip, code)
	i.Type = decodeUint16(ip, code)
	return i
}

func (i InstructionNewComposite) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNewComposite{
		Kind: i.Kind,
		Type: program.GetTypes()[i.Type],
	}
}

// InstructionNewCompositeAt
//
// Creates a new instance of the given composite kind and type, at the given address,
// and then pushes it onto the stack.
type InstructionNewCompositeAt struct {
	Kind    common.CompositeKind
	Type    uint16
	Address uint16
}

var _ Instruction = InstructionNewCompositeAt{}

func (InstructionNewCompositeAt) Opcode() Opcode {
	return NewCompositeAt
}

func (i InstructionNewCompositeAt) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionNewCompositeAt) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "kind", i.Kind, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "address", i.Address, colorize)
}

func (i InstructionNewCompositeAt) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "kind", i.Kind, colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
	sb.WriteByte(' ')
	printfConstantArgument(sb, "address", program.GetConstants()[i.Address], colorize)
}

func (i InstructionNewCompositeAt) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitCompositeKind(code, i.Kind)
	emitUint16(code, i.Type)
	emitUint16(code, i.Address)
}

func DecodeNewCompositeAt(ip *uint16, code []byte) (i InstructionNewCompositeAt) {
	i.Kind = decodeCompositeKind(ip, code)
	i.Type = decodeUint16(ip, code)
	i.Address = decodeUint16(ip, code)
	return i
}

func (i InstructionNewCompositeAt) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNewCompositeAt{
		Kind:    i.Kind,
		Type:    program.GetTypes()[i.Type],
		Address: program.GetConstants()[i.Address],
	}
}

// InstructionNewPath
//
// Creates a new path with the given domain and identifier and then pushes it onto the stack.
type InstructionNewPath struct {
	Domain     common.PathDomain
	Identifier uint16
}

var _ Instruction = InstructionNewPath{}

func (InstructionNewPath) Opcode() Opcode {
	return NewPath
}

func (i InstructionNewPath) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionNewPath) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "domain", i.Domain, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "identifier", i.Identifier, colorize)
}

func (i InstructionNewPath) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "domain", i.Domain, colorize)
	sb.WriteByte(' ')
	printfConstantArgument(sb, "identifier", program.GetConstants()[i.Identifier], colorize)
}

func (i InstructionNewPath) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitPathDomain(code, i.Domain)
	emitUint16(code, i.Identifier)
}

func DecodeNewPath(ip *uint16, code []byte) (i InstructionNewPath) {
	i.Domain = decodePathDomain(ip, code)
	i.Identifier = decodeUint16(ip, code)
	return i
}

func (i InstructionNewPath) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNewPath{
		Domain:     i.Domain,
		Identifier: program.GetConstants()[i.Identifier],
	}
}

// InstructionNewArray
//
// Pops the given number of elements off the stack, creates a new array with the given type, size, and elements,
// and then pushes it onto the stack.
type InstructionNewArray struct {
	Type       uint16
	Size       uint16
	IsResource bool
}

var _ Instruction = InstructionNewArray{}

func (InstructionNewArray) Opcode() Opcode {
	return NewArray
}

func (i InstructionNewArray) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionNewArray) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "size", i.Size, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "isResource", i.IsResource, colorize)
}

func (i InstructionNewArray) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "size", i.Size, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "isResource", i.IsResource, colorize)
}

func (i InstructionNewArray) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Type)
	emitUint16(code, i.Size)
	emitBool(code, i.IsResource)
}

func DecodeNewArray(ip *uint16, code []byte) (i InstructionNewArray) {
	i.Type = decodeUint16(ip, code)
	i.Size = decodeUint16(ip, code)
	i.IsResource = decodeBool(ip, code)
	return i
}

func (i InstructionNewArray) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNewArray{
		Type:       program.GetTypes()[i.Type],
		Size:       i.Size,
		IsResource: i.IsResource,
	}
}

// InstructionNewDictionary
//
// Pops the given number of entries off the stack (twice the number of the given size),
// creates a new dictionary with the given type, size, and entries,
// and then pushes it onto the stack.
type InstructionNewDictionary struct {
	Type       uint16
	Size       uint16
	IsResource bool
}

var _ Instruction = InstructionNewDictionary{}

func (InstructionNewDictionary) Opcode() Opcode {
	return NewDictionary
}

func (i InstructionNewDictionary) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionNewDictionary) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "size", i.Size, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "isResource", i.IsResource, colorize)
}

func (i InstructionNewDictionary) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "size", i.Size, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "isResource", i.IsResource, colorize)
}

func (i InstructionNewDictionary) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Type)
	emitUint16(code, i.Size)
	emitBool(code, i.IsResource)
}

func DecodeNewDictionary(ip *uint16, code []byte) (i InstructionNewDictionary) {
	i.Type = decodeUint16(ip, code)
	i.Size = decodeUint16(ip, code)
	i.IsResource = decodeBool(ip, code)
	return i
}

func (i InstructionNewDictionary) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNewDictionary{
		Type:       program.GetTypes()[i.Type],
		Size:       i.Size,
		IsResource: i.IsResource,
	}
}

// InstructionNewRef
//
// Pops a value off the stack, creates a new reference with the given type,
// and then pushes it onto the stack.
type InstructionNewRef struct {
	Type       uint16
	IsImplicit bool
}

var _ Instruction = InstructionNewRef{}

func (InstructionNewRef) Opcode() Opcode {
	return NewRef
}

func (i InstructionNewRef) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionNewRef) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "isImplicit", i.IsImplicit, colorize)
}

func (i InstructionNewRef) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "isImplicit", i.IsImplicit, colorize)
}

func (i InstructionNewRef) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Type)
	emitBool(code, i.IsImplicit)
}

func DecodeNewRef(ip *uint16, code []byte) (i InstructionNewRef) {
	i.Type = decodeUint16(ip, code)
	i.IsImplicit = decodeBool(ip, code)
	return i
}

func (i InstructionNewRef) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNewRef{
		Type:       program.GetTypes()[i.Type],
		IsImplicit: i.IsImplicit,
	}
}

// InstructionGetConstant
//
// Pushes the constant at the given index onto the stack.
type InstructionGetConstant struct {
	Constant uint16
}

var _ Instruction = InstructionGetConstant{}

func (InstructionGetConstant) Opcode() Opcode {
	return GetConstant
}

func (i InstructionGetConstant) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionGetConstant) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "constant", i.Constant, colorize)
}

func (i InstructionGetConstant) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfConstantArgument(sb, "constant", program.GetConstants()[i.Constant], colorize)
}

func (i InstructionGetConstant) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Constant)
}

func DecodeGetConstant(ip *uint16, code []byte) (i InstructionGetConstant) {
	i.Constant = decodeUint16(ip, code)
	return i
}

func (i InstructionGetConstant) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGetConstant{
		Constant: program.GetConstants()[i.Constant],
	}
}

// InstructionNewClosure
//
// Creates a new closure with the function at the given index and pushes it onto the stack.
type InstructionNewClosure struct {
	Function uint16
	Upvalues []Upvalue
}

var _ Instruction = InstructionNewClosure{}

func (InstructionNewClosure) Opcode() Opcode {
	return NewClosure
}

func (i InstructionNewClosure) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionNewClosure) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "function", i.Function, colorize)
	sb.WriteByte(' ')
	printfUpvalueArrayArgument(sb, "upvalues", i.Upvalues, colorize)
}

func (i InstructionNewClosure) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfFunctionNameArgument(sb, "function", program.GetFunctionName(i.Function), colorize)
	sb.WriteByte(' ')
	printfUpvalueArrayArgument(sb, "upvalues", i.Upvalues, colorize)
}

func (i InstructionNewClosure) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Function)
	emitUpvalueArray(code, i.Upvalues)
}

func DecodeNewClosure(ip *uint16, code []byte) (i InstructionNewClosure) {
	i.Function = decodeUint16(ip, code)
	i.Upvalues = decodeUpvalueArray(ip, code)
	return i
}

func (i InstructionNewClosure) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNewClosure{
		Function: program.GetFunctionName(i.Function),
		Upvalues: i.Upvalues,
	}
}

// InstructionInvoke
//
// Pops the function and arguments off the stack, invokes the function with the arguments,
// and then pushes the result back on to the stack.
// This instruction is only passes the argument count. If the argument types are needed, use `invokeTyped`.
type InstructionInvoke struct {
	TypeArgs   []uint16
	ArgCount   uint16
	ReturnType uint16
}

var _ Instruction = InstructionInvoke{}

func (InstructionInvoke) Opcode() Opcode {
	return Invoke
}

func (i InstructionInvoke) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionInvoke) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfUInt16ArrayArgument(sb, "typeArgs", i.TypeArgs, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "argCount", i.ArgCount, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "returnType", i.ReturnType, colorize)
}

func (i InstructionInvoke) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArrayArgument(sb, "typeArgs", i.TypeArgs, colorize, program.GetTypes())
	sb.WriteByte(' ')
	printfArgument(sb, "argCount", i.ArgCount, colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "returnType", program.GetTypes()[i.ReturnType], colorize)
}

func (i InstructionInvoke) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16Array(code, i.TypeArgs)
	emitUint16(code, i.ArgCount)
	emitUint16(code, i.ReturnType)
}

func DecodeInvoke(ip *uint16, code []byte) (i InstructionInvoke) {
	i.TypeArgs = decodeUint16Array(ip, code)
	i.ArgCount = decodeUint16(ip, code)
	i.ReturnType = decodeUint16(ip, code)
	return i
}

func (i InstructionInvoke) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionInvoke{
		TypeArgs:   resolveTypeIndices(i.TypeArgs, program.GetTypes()),
		ArgCount:   i.ArgCount,
		ReturnType: program.GetTypes()[i.ReturnType],
	}
}

// InstructionInvokeTyped
//
// Pops the function and arguments off the stack, invokes the function with the arguments, and then pushes the result back on to the stack. This instruction is a variant of `invoke` that includes the argument types.
type InstructionInvokeTyped struct {
	TypeArgs   []uint16
	ArgTypes   []uint16
	ReturnType uint16
}

var _ Instruction = InstructionInvokeTyped{}

func (InstructionInvokeTyped) Opcode() Opcode {
	return InvokeTyped
}

func (i InstructionInvokeTyped) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionInvokeTyped) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfUInt16ArrayArgument(sb, "typeArgs", i.TypeArgs, colorize)
	sb.WriteByte(' ')
	printfUInt16ArrayArgument(sb, "argTypes", i.ArgTypes, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "returnType", i.ReturnType, colorize)
}

func (i InstructionInvokeTyped) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArrayArgument(sb, "typeArgs", i.TypeArgs, colorize, program.GetTypes())
	sb.WriteByte(' ')
	printfTypeArrayArgument(sb, "argTypes", i.ArgTypes, colorize, program.GetTypes())
	sb.WriteByte(' ')
	printfTypeArgument(sb, "returnType", program.GetTypes()[i.ReturnType], colorize)
}

func (i InstructionInvokeTyped) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16Array(code, i.TypeArgs)
	emitUint16Array(code, i.ArgTypes)
	emitUint16(code, i.ReturnType)
}

func DecodeInvokeTyped(ip *uint16, code []byte) (i InstructionInvokeTyped) {
	i.TypeArgs = decodeUint16Array(ip, code)
	i.ArgTypes = decodeUint16Array(ip, code)
	i.ReturnType = decodeUint16(ip, code)
	return i
}

func (i InstructionInvokeTyped) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionInvokeTyped{
		TypeArgs:   resolveTypeIndices(i.TypeArgs, program.GetTypes()),
		ArgTypes:   resolveTypeIndices(i.ArgTypes, program.GetTypes()),
		ReturnType: program.GetTypes()[i.ReturnType],
	}
}

// InstructionGetMethod
//
// Pops a value off the stack, the receiver,
// and then pushes the value of the function at the given index onto the stack.
type InstructionGetMethod struct {
	Method       uint16
	ReceiverType uint16
}

var _ Instruction = InstructionGetMethod{}

func (InstructionGetMethod) Opcode() Opcode {
	return GetMethod
}

func (i InstructionGetMethod) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionGetMethod) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "method", i.Method, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "receiverType", i.ReceiverType, colorize)
}

func (i InstructionGetMethod) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "method", i.Method, colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "receiverType", program.GetTypes()[i.ReceiverType], colorize)
}

func (i InstructionGetMethod) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Method)
	emitUint16(code, i.ReceiverType)
}

func DecodeGetMethod(ip *uint16, code []byte) (i InstructionGetMethod) {
	i.Method = decodeUint16(ip, code)
	i.ReceiverType = decodeUint16(ip, code)
	return i
}

func (i InstructionGetMethod) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGetMethod{
		Method:       i.Method,
		ReceiverType: program.GetTypes()[i.ReceiverType],
	}
}

// InstructionDup
//
// Pops a value off the stack, duplicates it, and then pushes the original and the copy back on to the stack.
type InstructionDup struct {
}

var _ Instruction = InstructionDup{}

func (InstructionDup) Opcode() Opcode {
	return Dup
}

func (i InstructionDup) String() string {
	return i.Opcode().String()
}

func (i InstructionDup) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionDup) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionDup) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionDup) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionDup{}
}

// InstructionDrop
//
// Pops a value off the stack and discards it.
type InstructionDrop struct {
}

var _ Instruction = InstructionDrop{}

func (InstructionDrop) Opcode() Opcode {
	return Drop
}

func (i InstructionDrop) String() string {
	return i.Opcode().String()
}

func (i InstructionDrop) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionDrop) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionDrop) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionDrop) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionDrop{}
}

// InstructionDestroy
//
// Pops a resource off the stack and then destroys it.
type InstructionDestroy struct {
}

var _ Instruction = InstructionDestroy{}

func (InstructionDestroy) Opcode() Opcode {
	return Destroy
}

func (i InstructionDestroy) String() string {
	return i.Opcode().String()
}

func (i InstructionDestroy) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionDestroy) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionDestroy) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionDestroy) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionDestroy{}
}

// InstructionUnwrap
//
// Pops a value off the stack.
// If the value is an optional, pushes the optional's inner value back on to the stack.
// Panics if the value is `nil`.
// If the value is not an option, pushes the value back on to the stack.
type InstructionUnwrap struct {
}

var _ Instruction = InstructionUnwrap{}

func (InstructionUnwrap) Opcode() Opcode {
	return Unwrap
}

func (i InstructionUnwrap) String() string {
	return i.Opcode().String()
}

func (i InstructionUnwrap) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionUnwrap) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionUnwrap) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionUnwrap) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionUnwrap{}
}

// InstructionWrap
//
// Pops a value off the stack, wrap it with an optional, and pushes back onto the stack.
type InstructionWrap struct {
}

var _ Instruction = InstructionWrap{}

func (InstructionWrap) Opcode() Opcode {
	return Wrap
}

func (i InstructionWrap) String() string {
	return i.Opcode().String()
}

func (i InstructionWrap) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionWrap) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionWrap) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionWrap) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionWrap{}
}

// InstructionTransfer
//
// Pops a value off the stack, calls transfer, and then pushes it back on to the stack.
type InstructionTransfer struct {
}

var _ Instruction = InstructionTransfer{}

func (InstructionTransfer) Opcode() Opcode {
	return Transfer
}

func (i InstructionTransfer) String() string {
	return i.Opcode().String()
}

func (i InstructionTransfer) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionTransfer) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionTransfer) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionTransfer) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionTransfer{}
}

// InstructionTransferAndConvert
//
// Pops a value off the stack, transfer and converts it to the given type,
// and then pushes it back on to the stack.
type InstructionTransferAndConvert struct {
	ValueType  uint16
	TargetType uint16
}

var _ Instruction = InstructionTransferAndConvert{}

func (InstructionTransferAndConvert) Opcode() Opcode {
	return TransferAndConvert
}

func (i InstructionTransferAndConvert) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionTransferAndConvert) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "valueType", i.ValueType, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "targetType", i.TargetType, colorize)
}

func (i InstructionTransferAndConvert) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "valueType", program.GetTypes()[i.ValueType], colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "targetType", program.GetTypes()[i.TargetType], colorize)
}

func (i InstructionTransferAndConvert) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.ValueType)
	emitUint16(code, i.TargetType)
}

func DecodeTransferAndConvert(ip *uint16, code []byte) (i InstructionTransferAndConvert) {
	i.ValueType = decodeUint16(ip, code)
	i.TargetType = decodeUint16(ip, code)
	return i
}

func (i InstructionTransferAndConvert) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionTransferAndConvert{
		ValueType:  program.GetTypes()[i.ValueType],
		TargetType: program.GetTypes()[i.TargetType],
	}
}

// InstructionConvert
//
// Pops a value off the stack, converts it to the given type,
// and then pushes it back on to the stack.
type InstructionConvert struct {
	ValueType  uint16
	TargetType uint16
}

var _ Instruction = InstructionConvert{}

func (InstructionConvert) Opcode() Opcode {
	return Convert
}

func (i InstructionConvert) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionConvert) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "valueType", i.ValueType, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "targetType", i.TargetType, colorize)
}

func (i InstructionConvert) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "valueType", program.GetTypes()[i.ValueType], colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "targetType", program.GetTypes()[i.TargetType], colorize)
}

func (i InstructionConvert) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.ValueType)
	emitUint16(code, i.TargetType)
}

func DecodeConvert(ip *uint16, code []byte) (i InstructionConvert) {
	i.ValueType = decodeUint16(ip, code)
	i.TargetType = decodeUint16(ip, code)
	return i
}

func (i InstructionConvert) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionConvert{
		ValueType:  program.GetTypes()[i.ValueType],
		TargetType: program.GetTypes()[i.TargetType],
	}
}

// InstructionSimpleCast
//
// Pops a value off the stack, casts it to the given type, and then pushes it back on to the stack.
type InstructionSimpleCast struct {
	TargetType uint16
	ValueType  uint16
}

var _ Instruction = InstructionSimpleCast{}

func (InstructionSimpleCast) Opcode() Opcode {
	return SimpleCast
}

func (i InstructionSimpleCast) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionSimpleCast) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "targetType", i.TargetType, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "valueType", i.ValueType, colorize)
}

func (i InstructionSimpleCast) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "targetType", program.GetTypes()[i.TargetType], colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "valueType", program.GetTypes()[i.ValueType], colorize)
}

func (i InstructionSimpleCast) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.TargetType)
	emitUint16(code, i.ValueType)
}

func DecodeSimpleCast(ip *uint16, code []byte) (i InstructionSimpleCast) {
	i.TargetType = decodeUint16(ip, code)
	i.ValueType = decodeUint16(ip, code)
	return i
}

func (i InstructionSimpleCast) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSimpleCast{
		TargetType: program.GetTypes()[i.TargetType],
		ValueType:  program.GetTypes()[i.ValueType],
	}
}

// InstructionFailableCast
//
// Pops a value off the stack and casts it to the given type.
// If the value is a subtype of the given type, then casted value is pushed back on to the stack.
// If the value is not a subtype of the given type, then a `nil` is pushed to the stack instead.
type InstructionFailableCast struct {
	TargetType uint16
	ValueType  uint16
}

var _ Instruction = InstructionFailableCast{}

func (InstructionFailableCast) Opcode() Opcode {
	return FailableCast
}

func (i InstructionFailableCast) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionFailableCast) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "targetType", i.TargetType, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "valueType", i.ValueType, colorize)
}

func (i InstructionFailableCast) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "targetType", program.GetTypes()[i.TargetType], colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "valueType", program.GetTypes()[i.ValueType], colorize)
}

func (i InstructionFailableCast) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.TargetType)
	emitUint16(code, i.ValueType)
}

func DecodeFailableCast(ip *uint16, code []byte) (i InstructionFailableCast) {
	i.TargetType = decodeUint16(ip, code)
	i.ValueType = decodeUint16(ip, code)
	return i
}

func (i InstructionFailableCast) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionFailableCast{
		TargetType: program.GetTypes()[i.TargetType],
		ValueType:  program.GetTypes()[i.ValueType],
	}
}

// InstructionForceCast
//
// Pops a value off the stack, force-casts it to the given type,
// and then pushes it back on to the stack.
// Panics if the value is not a subtype of the given type.
type InstructionForceCast struct {
	TargetType uint16
	ValueType  uint16
}

var _ Instruction = InstructionForceCast{}

func (InstructionForceCast) Opcode() Opcode {
	return ForceCast
}

func (i InstructionForceCast) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionForceCast) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "targetType", i.TargetType, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "valueType", i.ValueType, colorize)
}

func (i InstructionForceCast) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "targetType", program.GetTypes()[i.TargetType], colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "valueType", program.GetTypes()[i.ValueType], colorize)
}

func (i InstructionForceCast) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.TargetType)
	emitUint16(code, i.ValueType)
}

func DecodeForceCast(ip *uint16, code []byte) (i InstructionForceCast) {
	i.TargetType = decodeUint16(ip, code)
	i.ValueType = decodeUint16(ip, code)
	return i
}

func (i InstructionForceCast) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionForceCast{
		TargetType: program.GetTypes()[i.TargetType],
		ValueType:  program.GetTypes()[i.ValueType],
	}
}

// InstructionDeref
//
// Pops an (optional) reference off the stack, dereferences it,
// and then pushes the value back on to the stack.
type InstructionDeref struct {
}

var _ Instruction = InstructionDeref{}

func (InstructionDeref) Opcode() Opcode {
	return Deref
}

func (i InstructionDeref) String() string {
	return i.Opcode().String()
}

func (i InstructionDeref) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionDeref) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionDeref) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionDeref) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionDeref{}
}

// InstructionJump
//
// Unconditionally jumps to the given instruction.
type InstructionJump struct {
	Target uint16
}

var _ Instruction = InstructionJump{}

func (InstructionJump) Opcode() Opcode {
	return Jump
}

func (i InstructionJump) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionJump) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "target", i.Target, colorize)
}

func (i InstructionJump) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "target", i.Target, colorize)
}

func (i InstructionJump) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Target)
}

func DecodeJump(ip *uint16, code []byte) (i InstructionJump) {
	i.Target = decodeUint16(ip, code)
	return i
}

func (i InstructionJump) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionJump{
		Target: i.Target,
	}
}

// InstructionJumpIfFalse
//
// Pops a value off the stack. If it is `false`, jumps to the target instruction.
type InstructionJumpIfFalse struct {
	Target uint16
}

var _ Instruction = InstructionJumpIfFalse{}

func (InstructionJumpIfFalse) Opcode() Opcode {
	return JumpIfFalse
}

func (i InstructionJumpIfFalse) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionJumpIfFalse) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "target", i.Target, colorize)
}

func (i InstructionJumpIfFalse) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "target", i.Target, colorize)
}

func (i InstructionJumpIfFalse) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Target)
}

func DecodeJumpIfFalse(ip *uint16, code []byte) (i InstructionJumpIfFalse) {
	i.Target = decodeUint16(ip, code)
	return i
}

func (i InstructionJumpIfFalse) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionJumpIfFalse{
		Target: i.Target,
	}
}

// InstructionJumpIfTrue
//
// Pops a value off the stack. If it is `true`, jumps to the target instruction.
type InstructionJumpIfTrue struct {
	Target uint16
}

var _ Instruction = InstructionJumpIfTrue{}

func (InstructionJumpIfTrue) Opcode() Opcode {
	return JumpIfTrue
}

func (i InstructionJumpIfTrue) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionJumpIfTrue) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "target", i.Target, colorize)
}

func (i InstructionJumpIfTrue) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "target", i.Target, colorize)
}

func (i InstructionJumpIfTrue) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Target)
}

func DecodeJumpIfTrue(ip *uint16, code []byte) (i InstructionJumpIfTrue) {
	i.Target = decodeUint16(ip, code)
	return i
}

func (i InstructionJumpIfTrue) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionJumpIfTrue{
		Target: i.Target,
	}
}

// InstructionJumpIfNil
//
// Pops a value off the stack. If it is `nil`, jumps to the target instruction.
type InstructionJumpIfNil struct {
	Target uint16
}

var _ Instruction = InstructionJumpIfNil{}

func (InstructionJumpIfNil) Opcode() Opcode {
	return JumpIfNil
}

func (i InstructionJumpIfNil) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionJumpIfNil) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "target", i.Target, colorize)
}

func (i InstructionJumpIfNil) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "target", i.Target, colorize)
}

func (i InstructionJumpIfNil) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Target)
}

func DecodeJumpIfNil(ip *uint16, code []byte) (i InstructionJumpIfNil) {
	i.Target = decodeUint16(ip, code)
	return i
}

func (i InstructionJumpIfNil) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionJumpIfNil{
		Target: i.Target,
	}
}

// InstructionReturn
//
// Returns from the current function, without a value.
type InstructionReturn struct {
}

var _ Instruction = InstructionReturn{}

func (InstructionReturn) Opcode() Opcode {
	return Return
}

func (i InstructionReturn) String() string {
	return i.Opcode().String()
}

func (i InstructionReturn) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionReturn) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionReturn) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionReturn) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionReturn{}
}

// InstructionReturnValue
//
// Pops a value off the stack and then returns from the current function with that value.
type InstructionReturnValue struct {
}

var _ Instruction = InstructionReturnValue{}

func (InstructionReturnValue) Opcode() Opcode {
	return ReturnValue
}

func (i InstructionReturnValue) String() string {
	return i.Opcode().String()
}

func (i InstructionReturnValue) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionReturnValue) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionReturnValue) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionReturnValue) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionReturnValue{}
}

// InstructionSame
//
// Pops two values off the stack, checks if the first value is the same as the second,
// and then pushes the result back on to the stack.
type InstructionSame struct {
}

var _ Instruction = InstructionSame{}

func (InstructionSame) Opcode() Opcode {
	return Same
}

func (i InstructionSame) String() string {
	return i.Opcode().String()
}

func (i InstructionSame) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionSame) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionSame) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionSame) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSame{}
}

// InstructionEqual
//
// Pops two values off the stack, checks if the first value is equal to the second,
// and then pushes the result back on to the stack.
type InstructionEqual struct {
}

var _ Instruction = InstructionEqual{}

func (InstructionEqual) Opcode() Opcode {
	return Equal
}

func (i InstructionEqual) String() string {
	return i.Opcode().String()
}

func (i InstructionEqual) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionEqual) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionEqual) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionEqual) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionEqual{}
}

// InstructionNotEqual
//
// Pops two values off the stack, checks if the first value is not equal to the second,
// and then pushes the result back on to the stack.
type InstructionNotEqual struct {
}

var _ Instruction = InstructionNotEqual{}

func (InstructionNotEqual) Opcode() Opcode {
	return NotEqual
}

func (i InstructionNotEqual) String() string {
	return i.Opcode().String()
}

func (i InstructionNotEqual) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionNotEqual) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionNotEqual) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionNotEqual) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNotEqual{}
}

// InstructionNot
//
// Pops a boolean value off the stack, negates it,
// and then pushes the result back on to the stack.
type InstructionNot struct {
}

var _ Instruction = InstructionNot{}

func (InstructionNot) Opcode() Opcode {
	return Not
}

func (i InstructionNot) String() string {
	return i.Opcode().String()
}

func (i InstructionNot) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionNot) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionNot) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionNot) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNot{}
}

// InstructionAdd
//
// Pops two number values off the stack, adds them together,
// and then pushes the result back on to the stack.
type InstructionAdd struct {
}

var _ Instruction = InstructionAdd{}

func (InstructionAdd) Opcode() Opcode {
	return Add
}

func (i InstructionAdd) String() string {
	return i.Opcode().String()
}

func (i InstructionAdd) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionAdd) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionAdd) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionAdd) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionAdd{}
}

// InstructionSubtract
//
// Pops two number values off the stack, subtracts the second from the first,
// and then pushes the result back on to the stack.
type InstructionSubtract struct {
}

var _ Instruction = InstructionSubtract{}

func (InstructionSubtract) Opcode() Opcode {
	return Subtract
}

func (i InstructionSubtract) String() string {
	return i.Opcode().String()
}

func (i InstructionSubtract) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionSubtract) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionSubtract) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionSubtract) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSubtract{}
}

// InstructionMultiply
//
// Pops two number values off the stack, multiplies them together,
// and then pushes the result back on to the stack.
type InstructionMultiply struct {
}

var _ Instruction = InstructionMultiply{}

func (InstructionMultiply) Opcode() Opcode {
	return Multiply
}

func (i InstructionMultiply) String() string {
	return i.Opcode().String()
}

func (i InstructionMultiply) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionMultiply) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionMultiply) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionMultiply) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionMultiply{}
}

// InstructionDivide
//
// Pops two number values off the stack, divides the first by the second,
// and then pushes the result back on to the stack.
type InstructionDivide struct {
}

var _ Instruction = InstructionDivide{}

func (InstructionDivide) Opcode() Opcode {
	return Divide
}

func (i InstructionDivide) String() string {
	return i.Opcode().String()
}

func (i InstructionDivide) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionDivide) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionDivide) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionDivide) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionDivide{}
}

// InstructionMod
//
// Pops two number values off the stack, calculates the modulus of the first by the second,
// and then pushes the result back on to the stack.
type InstructionMod struct {
}

var _ Instruction = InstructionMod{}

func (InstructionMod) Opcode() Opcode {
	return Mod
}

func (i InstructionMod) String() string {
	return i.Opcode().String()
}

func (i InstructionMod) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionMod) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionMod) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionMod) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionMod{}
}

// InstructionNegate
//
// Pops a number value off the stack, negates it,
// and then pushes the result back on to the stack.
type InstructionNegate struct {
}

var _ Instruction = InstructionNegate{}

func (InstructionNegate) Opcode() Opcode {
	return Negate
}

func (i InstructionNegate) String() string {
	return i.Opcode().String()
}

func (i InstructionNegate) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionNegate) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionNegate) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionNegate) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionNegate{}
}

// InstructionLess
//
// Pops two values off the stack, checks if the first value is less than the second,
// and then pushes the result back on to the stack.
type InstructionLess struct {
}

var _ Instruction = InstructionLess{}

func (InstructionLess) Opcode() Opcode {
	return Less
}

func (i InstructionLess) String() string {
	return i.Opcode().String()
}

func (i InstructionLess) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionLess) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionLess) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionLess) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionLess{}
}

// InstructionLessOrEqual
//
// Pops two values off the stack, checks if the first value is less than or equal to the second,
// and then pushes the result back on to the stack.
type InstructionLessOrEqual struct {
}

var _ Instruction = InstructionLessOrEqual{}

func (InstructionLessOrEqual) Opcode() Opcode {
	return LessOrEqual
}

func (i InstructionLessOrEqual) String() string {
	return i.Opcode().String()
}

func (i InstructionLessOrEqual) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionLessOrEqual) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionLessOrEqual) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionLessOrEqual) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionLessOrEqual{}
}

// InstructionGreater
//
// Pops two values off the stack, checks if the first value is greater than the second,
// and then pushes the result back on to the stack.
type InstructionGreater struct {
}

var _ Instruction = InstructionGreater{}

func (InstructionGreater) Opcode() Opcode {
	return Greater
}

func (i InstructionGreater) String() string {
	return i.Opcode().String()
}

func (i InstructionGreater) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionGreater) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionGreater) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionGreater) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGreater{}
}

// InstructionGreaterOrEqual
//
// Pops two values off the stack, checks if the first value is greater than or equal to the second,
// and then pushes the result back on to the stack.
type InstructionGreaterOrEqual struct {
}

var _ Instruction = InstructionGreaterOrEqual{}

func (InstructionGreaterOrEqual) Opcode() Opcode {
	return GreaterOrEqual
}

func (i InstructionGreaterOrEqual) String() string {
	return i.Opcode().String()
}

func (i InstructionGreaterOrEqual) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionGreaterOrEqual) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionGreaterOrEqual) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionGreaterOrEqual) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGreaterOrEqual{}
}

// InstructionBitwiseOr
//
// Pops two integer values off the stack, performs a bitwise OR operation on them,
// and then pushes the result back on to the stack.
type InstructionBitwiseOr struct {
}

var _ Instruction = InstructionBitwiseOr{}

func (InstructionBitwiseOr) Opcode() Opcode {
	return BitwiseOr
}

func (i InstructionBitwiseOr) String() string {
	return i.Opcode().String()
}

func (i InstructionBitwiseOr) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionBitwiseOr) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionBitwiseOr) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionBitwiseOr) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionBitwiseOr{}
}

// InstructionBitwiseXor
//
// Pops two integer values off the stack, performs a bitwise XOR operation on them,
// and then pushes the result back on to the stack.
type InstructionBitwiseXor struct {
}

var _ Instruction = InstructionBitwiseXor{}

func (InstructionBitwiseXor) Opcode() Opcode {
	return BitwiseXor
}

func (i InstructionBitwiseXor) String() string {
	return i.Opcode().String()
}

func (i InstructionBitwiseXor) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionBitwiseXor) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionBitwiseXor) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionBitwiseXor) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionBitwiseXor{}
}

// InstructionBitwiseAnd
//
// Pops two integer values off the stack, performs a bitwise AND operation on them,
// and then pushes the result back on to the stack.
type InstructionBitwiseAnd struct {
}

var _ Instruction = InstructionBitwiseAnd{}

func (InstructionBitwiseAnd) Opcode() Opcode {
	return BitwiseAnd
}

func (i InstructionBitwiseAnd) String() string {
	return i.Opcode().String()
}

func (i InstructionBitwiseAnd) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionBitwiseAnd) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionBitwiseAnd) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionBitwiseAnd) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionBitwiseAnd{}
}

// InstructionBitwiseLeftShift
//
// Pops two integer values off the stack, performs a bitwise left shift operation on them,
// and then pushes the result back on to the stack.
type InstructionBitwiseLeftShift struct {
}

var _ Instruction = InstructionBitwiseLeftShift{}

func (InstructionBitwiseLeftShift) Opcode() Opcode {
	return BitwiseLeftShift
}

func (i InstructionBitwiseLeftShift) String() string {
	return i.Opcode().String()
}

func (i InstructionBitwiseLeftShift) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionBitwiseLeftShift) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionBitwiseLeftShift) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionBitwiseLeftShift) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionBitwiseLeftShift{}
}

// InstructionBitwiseRightShift
//
// Pops two integer values off the stack, performs a bitwise right shift operation on them,
// and then pushes the result back on to the stack.
type InstructionBitwiseRightShift struct {
}

var _ Instruction = InstructionBitwiseRightShift{}

func (InstructionBitwiseRightShift) Opcode() Opcode {
	return BitwiseRightShift
}

func (i InstructionBitwiseRightShift) String() string {
	return i.Opcode().String()
}

func (i InstructionBitwiseRightShift) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionBitwiseRightShift) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionBitwiseRightShift) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionBitwiseRightShift) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionBitwiseRightShift{}
}

// InstructionIterator
//
// Pops an iterable value from the stack, get an iterator to it, and push the iterator back onto the stack.
type InstructionIterator struct {
}

var _ Instruction = InstructionIterator{}

func (InstructionIterator) Opcode() Opcode {
	return Iterator
}

func (i InstructionIterator) String() string {
	return i.Opcode().String()
}

func (i InstructionIterator) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionIterator) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionIterator) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionIterator) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionIterator{}
}

// InstructionIteratorHasNext
//
// Pops a value-iterator from the stack, calls `hasNext()` method on it, and push the result back onto the stack.
type InstructionIteratorHasNext struct {
}

var _ Instruction = InstructionIteratorHasNext{}

func (InstructionIteratorHasNext) Opcode() Opcode {
	return IteratorHasNext
}

func (i InstructionIteratorHasNext) String() string {
	return i.Opcode().String()
}

func (i InstructionIteratorHasNext) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionIteratorHasNext) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionIteratorHasNext) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionIteratorHasNext) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionIteratorHasNext{}
}

// InstructionIteratorNext
//
// Pops a value-iterator from the stack, calls `next()` method on it, and push the result back onto the stack.
type InstructionIteratorNext struct {
}

var _ Instruction = InstructionIteratorNext{}

func (InstructionIteratorNext) Opcode() Opcode {
	return IteratorNext
}

func (i InstructionIteratorNext) String() string {
	return i.Opcode().String()
}

func (i InstructionIteratorNext) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionIteratorNext) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionIteratorNext) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionIteratorNext) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionIteratorNext{}
}

// InstructionIteratorEnd
//
// Pops a value-iterator from the stack end invalidates it.
// The iterator may no longer be used after this instruction.
type InstructionIteratorEnd struct {
}

var _ Instruction = InstructionIteratorEnd{}

func (InstructionIteratorEnd) Opcode() Opcode {
	return IteratorEnd
}

func (i InstructionIteratorEnd) String() string {
	return i.Opcode().String()
}

func (i InstructionIteratorEnd) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionIteratorEnd) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionIteratorEnd) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionIteratorEnd) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionIteratorEnd{}
}

// InstructionEmitEvent
//
// Pops arguments of the stack and then emits an event with the given type with them.
type InstructionEmitEvent struct {
	Type     uint16
	ArgCount uint16
}

var _ Instruction = InstructionEmitEvent{}

func (InstructionEmitEvent) Opcode() Opcode {
	return EmitEvent
}

func (i InstructionEmitEvent) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionEmitEvent) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "argCount", i.ArgCount, colorize)
}

func (i InstructionEmitEvent) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "argCount", i.ArgCount, colorize)
}

func (i InstructionEmitEvent) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Type)
	emitUint16(code, i.ArgCount)
}

func DecodeEmitEvent(ip *uint16, code []byte) (i InstructionEmitEvent) {
	i.Type = decodeUint16(ip, code)
	i.ArgCount = decodeUint16(ip, code)
	return i
}

func (i InstructionEmitEvent) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionEmitEvent{
		Type:     program.GetTypes()[i.Type],
		ArgCount: i.ArgCount,
	}
}

// InstructionLoop
//
// Indicates the start of a loop.
type InstructionLoop struct {
}

var _ Instruction = InstructionLoop{}

func (InstructionLoop) Opcode() Opcode {
	return Loop
}

func (i InstructionLoop) String() string {
	return i.Opcode().String()
}

func (i InstructionLoop) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionLoop) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionLoop) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionLoop) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionLoop{}
}

// InstructionStatement
//
// Indicates the start of a statement.
type InstructionStatement struct {
}

var _ Instruction = InstructionStatement{}

func (InstructionStatement) Opcode() Opcode {
	return Statement
}

func (i InstructionStatement) String() string {
	return i.Opcode().String()
}

func (i InstructionStatement) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionStatement) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionStatement) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionStatement) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionStatement{}
}

// InstructionTemplateString
//
// Represents a string template with an array of values (strings) and an array of expressions, pops both off the stack.
type InstructionTemplateString struct {
	ExprSize uint16
}

var _ Instruction = InstructionTemplateString{}

func (InstructionTemplateString) Opcode() Opcode {
	return TemplateString
}

func (i InstructionTemplateString) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionTemplateString) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "exprSize", i.ExprSize, colorize)
}

func (i InstructionTemplateString) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "exprSize", i.ExprSize, colorize)
}

func (i InstructionTemplateString) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.ExprSize)
}

func DecodeTemplateString(ip *uint16, code []byte) (i InstructionTemplateString) {
	i.ExprSize = decodeUint16(ip, code)
	return i
}

func (i InstructionTemplateString) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionTemplateString{
		ExprSize: i.ExprSize,
	}
}

// InstructionGetTypeIndex
//
// Pops a value off the stack, the target,
// and then pushes the value of the type key at the given index onto the stack.
type InstructionGetTypeIndex struct {
	Type uint16
}

var _ Instruction = InstructionGetTypeIndex{}

func (InstructionGetTypeIndex) Opcode() Opcode {
	return GetTypeIndex
}

func (i InstructionGetTypeIndex) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionGetTypeIndex) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
}

func (i InstructionGetTypeIndex) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
}

func (i InstructionGetTypeIndex) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Type)
}

func DecodeGetTypeIndex(ip *uint16, code []byte) (i InstructionGetTypeIndex) {
	i.Type = decodeUint16(ip, code)
	return i
}

func (i InstructionGetTypeIndex) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGetTypeIndex{
		Type: program.GetTypes()[i.Type],
	}
}

// InstructionRemoveTypeIndex
//
// Pops a value off the stack, the target.
// Remove the value of the given type key from the target.
// Additionally destroy if removed type is resource.
type InstructionRemoveTypeIndex struct {
	Type uint16
}

var _ Instruction = InstructionRemoveTypeIndex{}

func (InstructionRemoveTypeIndex) Opcode() Opcode {
	return RemoveTypeIndex
}

func (i InstructionRemoveTypeIndex) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionRemoveTypeIndex) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
}

func (i InstructionRemoveTypeIndex) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
}

func (i InstructionRemoveTypeIndex) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Type)
}

func DecodeRemoveTypeIndex(ip *uint16, code []byte) (i InstructionRemoveTypeIndex) {
	i.Type = decodeUint16(ip, code)
	return i
}

func (i InstructionRemoveTypeIndex) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionRemoveTypeIndex{
		Type: program.GetTypes()[i.Type],
	}
}

// InstructionSetTypeIndex
//
// Pops two values off the stack, the target and the value,
// and then sets the type key at the given index of the target to the value, and pushes it onto the stack.
type InstructionSetTypeIndex struct {
	Type uint16
}

var _ Instruction = InstructionSetTypeIndex{}

func (InstructionSetTypeIndex) Opcode() Opcode {
	return SetTypeIndex
}

func (i InstructionSetTypeIndex) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionSetTypeIndex) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "type", i.Type, colorize)
}

func (i InstructionSetTypeIndex) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfTypeArgument(sb, "type", program.GetTypes()[i.Type], colorize)
}

func (i InstructionSetTypeIndex) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.Type)
}

func DecodeSetTypeIndex(ip *uint16, code []byte) (i InstructionSetTypeIndex) {
	i.Type = decodeUint16(ip, code)
	return i
}

func (i InstructionSetTypeIndex) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSetTypeIndex{
		Type: program.GetTypes()[i.Type],
	}
}

// InstructionSetAttachmentBase
//
// Pops two values off the stack, the attachment and the base, sets the attachment's base value to base.
type InstructionSetAttachmentBase struct {
}

var _ Instruction = InstructionSetAttachmentBase{}

func (InstructionSetAttachmentBase) Opcode() Opcode {
	return SetAttachmentBase
}

func (i InstructionSetAttachmentBase) String() string {
	return i.Opcode().String()
}

func (i InstructionSetAttachmentBase) OperandsString(sb *strings.Builder, colorize bool) {}

func (i InstructionSetAttachmentBase) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
}

func (i InstructionSetAttachmentBase) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
}

func (i InstructionSetAttachmentBase) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionSetAttachmentBase{}
}

// InstructionGetFieldLocal
//
// Pops a value off the stack, the target,
// and then pushes the value of the field at the given index onto the stack.
type InstructionGetFieldLocal struct {
	FieldName    uint16
	AccessedType uint16
	Local        uint16
}

var _ Instruction = InstructionGetFieldLocal{}

func (InstructionGetFieldLocal) Opcode() Opcode {
	return GetFieldLocal
}

func (i InstructionGetFieldLocal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	i.OperandsString(&sb, false)
	return sb.String()
}

func (i InstructionGetFieldLocal) OperandsString(sb *strings.Builder, colorize bool) {
	sb.WriteByte(' ')
	printfArgument(sb, "fieldName", i.FieldName, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "accessedType", i.AccessedType, colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "local", i.Local, colorize)
}

func (i InstructionGetFieldLocal) ResolvedOperandsString(sb *strings.Builder,
	program ProgramForInstructions,
	colorize bool) {
	sb.WriteByte(' ')
	printfConstantArgument(sb, "fieldName", program.GetConstants()[i.FieldName], colorize)
	sb.WriteByte(' ')
	printfTypeArgument(sb, "accessedType", program.GetTypes()[i.AccessedType], colorize)
	sb.WriteByte(' ')
	printfArgument(sb, "local", i.Local, colorize)
}

func (i InstructionGetFieldLocal) Encode(code *[]byte) {
	emitOpcode(code, i.Opcode())
	emitUint16(code, i.FieldName)
	emitUint16(code, i.AccessedType)
	emitUint16(code, i.Local)
}

func DecodeGetFieldLocal(ip *uint16, code []byte) (i InstructionGetFieldLocal) {
	i.FieldName = decodeUint16(ip, code)
	i.AccessedType = decodeUint16(ip, code)
	i.Local = decodeUint16(ip, code)
	return i
}

func (i InstructionGetFieldLocal) Pretty(program ProgramForInstructions) PrettyInstruction {
	return PrettyInstructionGetFieldLocal{
		FieldName:    program.GetConstants()[i.FieldName],
		AccessedType: program.GetTypes()[i.AccessedType],
		Local:        i.Local,
	}
}

// PrettyInstructionUnknown
//
// Pretty form of InstructionUnknown with resolved operands.
// An unknown instruction.
type PrettyInstructionUnknown struct {
}

var _ PrettyInstruction = PrettyInstructionUnknown{}

func (PrettyInstructionUnknown) Opcode() Opcode {
	return Unknown
}

func (i PrettyInstructionUnknown) String() string {
	return i.Opcode().String()
}

// PrettyInstructionGetLocal
//
// Pretty form of InstructionGetLocal with resolved operands.
// Pushes the value of the local at the given index onto the stack.
type PrettyInstructionGetLocal struct {
	Local uint16
}

var _ PrettyInstruction = PrettyInstructionGetLocal{}

func (PrettyInstructionGetLocal) Opcode() Opcode {
	return GetLocal
}

func (i PrettyInstructionGetLocal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "local", i.Local, false)
	return sb.String()
}

// PrettyInstructionSetLocal
//
// Pretty form of InstructionSetLocal with resolved operands.
// Pops a value off the stack and then sets the local at the given index to that value.
type PrettyInstructionSetLocal struct {
	Local     uint16
	IsTempVar bool
}

var _ PrettyInstruction = PrettyInstructionSetLocal{}

func (PrettyInstructionSetLocal) Opcode() Opcode {
	return SetLocal
}

func (i PrettyInstructionSetLocal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "local", i.Local, false)
	sb.WriteByte(' ')
	printfArgument(&sb, "isTempVar", i.IsTempVar, false)
	return sb.String()
}

// PrettyInstructionGetUpvalue
//
// Pretty form of InstructionGetUpvalue with resolved operands.
// Pushes the value of the upvalue at the given index onto the stack.
type PrettyInstructionGetUpvalue struct {
	Upvalue uint16
}

var _ PrettyInstruction = PrettyInstructionGetUpvalue{}

func (PrettyInstructionGetUpvalue) Opcode() Opcode {
	return GetUpvalue
}

func (i PrettyInstructionGetUpvalue) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "upvalue", i.Upvalue, false)
	return sb.String()
}

// PrettyInstructionSetUpvalue
//
// Pretty form of InstructionSetUpvalue with resolved operands.
// Pops a value off the stack and then sets the upvalue at the given index to that value.
type PrettyInstructionSetUpvalue struct {
	Upvalue uint16
}

var _ PrettyInstruction = PrettyInstructionSetUpvalue{}

func (PrettyInstructionSetUpvalue) Opcode() Opcode {
	return SetUpvalue
}

func (i PrettyInstructionSetUpvalue) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "upvalue", i.Upvalue, false)
	return sb.String()
}

// PrettyInstructionCloseUpvalue
//
// Pretty form of InstructionCloseUpvalue with resolved operands.
// Closes the upvalue for the local at the given index.
type PrettyInstructionCloseUpvalue struct {
	Local uint16
}

var _ PrettyInstruction = PrettyInstructionCloseUpvalue{}

func (PrettyInstructionCloseUpvalue) Opcode() Opcode {
	return CloseUpvalue
}

func (i PrettyInstructionCloseUpvalue) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "local", i.Local, false)
	return sb.String()
}

// PrettyInstructionGetGlobal
//
// Pretty form of InstructionGetGlobal with resolved operands.
// Pushes the value of the global at the given index onto the stack.
type PrettyInstructionGetGlobal struct {
	Global uint16
}

var _ PrettyInstruction = PrettyInstructionGetGlobal{}

func (PrettyInstructionGetGlobal) Opcode() Opcode {
	return GetGlobal
}

func (i PrettyInstructionGetGlobal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "global", i.Global, false)
	return sb.String()
}

// PrettyInstructionSetGlobal
//
// Pretty form of InstructionSetGlobal with resolved operands.
// Pops a value off the stack and then sets the global at the given index to that value.
type PrettyInstructionSetGlobal struct {
	Global uint16
}

var _ PrettyInstruction = PrettyInstructionSetGlobal{}

func (PrettyInstructionSetGlobal) Opcode() Opcode {
	return SetGlobal
}

func (i PrettyInstructionSetGlobal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "global", i.Global, false)
	return sb.String()
}

// PrettyInstructionGetField
//
// Pretty form of InstructionGetField with resolved operands.
// Pops a value off the stack, the target,
// and then pushes the value of the field at the given index onto the stack.
type PrettyInstructionGetField struct {
	FieldName    constant.DecodedConstant
	AccessedType interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionGetField{}

func (PrettyInstructionGetField) Opcode() Opcode {
	return GetField
}

func (i PrettyInstructionGetField) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfConstantArgument(&sb, "fieldName", i.FieldName, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "accessedType", i.AccessedType, false)
	return sb.String()
}

// PrettyInstructionRemoveField
//
// Pretty form of InstructionRemoveField with resolved operands.
// Pops a value off the stack, the target.
// Remove the value of the given field from the target, and pushes it onto the stack.
type PrettyInstructionRemoveField struct {
	FieldName constant.DecodedConstant
}

var _ PrettyInstruction = PrettyInstructionRemoveField{}

func (PrettyInstructionRemoveField) Opcode() Opcode {
	return RemoveField
}

func (i PrettyInstructionRemoveField) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfConstantArgument(&sb, "fieldName", i.FieldName, false)
	return sb.String()
}

// PrettyInstructionSetField
//
// Pretty form of InstructionSetField with resolved operands.
// Pops two values off the stack, the target and the value,
// and then sets the field at the given index of the target to the value.
type PrettyInstructionSetField struct {
	FieldName    constant.DecodedConstant
	AccessedType interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionSetField{}

func (PrettyInstructionSetField) Opcode() Opcode {
	return SetField
}

func (i PrettyInstructionSetField) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfConstantArgument(&sb, "fieldName", i.FieldName, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "accessedType", i.AccessedType, false)
	return sb.String()
}

// PrettyInstructionGetIndex
//
// Pretty form of InstructionGetIndex with resolved operands.
// Pops two values off the stack, the array and the index,
// and then pushes the value at the given index of the array onto the stack.
type PrettyInstructionGetIndex struct {
}

var _ PrettyInstruction = PrettyInstructionGetIndex{}

func (PrettyInstructionGetIndex) Opcode() Opcode {
	return GetIndex
}

func (i PrettyInstructionGetIndex) String() string {
	return i.Opcode().String()
}

// PrettyInstructionRemoveIndex
//
// Pretty form of InstructionRemoveIndex with resolved operands.
// Pops two values off the stack, the array and the index.
// Removes the value at the given index from the array and pushes it onto the stack.
// If pushPlaceholder is true, also pushes the placeholder value that was inserted, if any, or nil otherwise.
type PrettyInstructionRemoveIndex struct {
	PushPlaceholder bool
}

var _ PrettyInstruction = PrettyInstructionRemoveIndex{}

func (PrettyInstructionRemoveIndex) Opcode() Opcode {
	return RemoveIndex
}

func (i PrettyInstructionRemoveIndex) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "pushPlaceholder", i.PushPlaceholder, false)
	return sb.String()
}

// PrettyInstructionSetIndex
//
// Pretty form of InstructionSetIndex with resolved operands.
// Pops three values off the stack, the array, the index, and the value,
// and then sets the value at the given index of the array to the value.
type PrettyInstructionSetIndex struct {
}

var _ PrettyInstruction = PrettyInstructionSetIndex{}

func (PrettyInstructionSetIndex) Opcode() Opcode {
	return SetIndex
}

func (i PrettyInstructionSetIndex) String() string {
	return i.Opcode().String()
}

// PrettyInstructionVoid
//
// Pretty form of InstructionVoid with resolved operands.
// Pushes the void value onto the stack.
type PrettyInstructionVoid struct {
}

var _ PrettyInstruction = PrettyInstructionVoid{}

func (PrettyInstructionVoid) Opcode() Opcode {
	return Void
}

func (i PrettyInstructionVoid) String() string {
	return i.Opcode().String()
}

// PrettyInstructionTrue
//
// Pretty form of InstructionTrue with resolved operands.
// Pushes the boolean value `true` onto the stack.
type PrettyInstructionTrue struct {
}

var _ PrettyInstruction = PrettyInstructionTrue{}

func (PrettyInstructionTrue) Opcode() Opcode {
	return True
}

func (i PrettyInstructionTrue) String() string {
	return i.Opcode().String()
}

// PrettyInstructionFalse
//
// Pretty form of InstructionFalse with resolved operands.
// Pushes the boolean value `false` onto the stack.
type PrettyInstructionFalse struct {
}

var _ PrettyInstruction = PrettyInstructionFalse{}

func (PrettyInstructionFalse) Opcode() Opcode {
	return False
}

func (i PrettyInstructionFalse) String() string {
	return i.Opcode().String()
}

// PrettyInstructionNil
//
// Pretty form of InstructionNil with resolved operands.
// Pushes the value `nil` onto the stack.
type PrettyInstructionNil struct {
}

var _ PrettyInstruction = PrettyInstructionNil{}

func (PrettyInstructionNil) Opcode() Opcode {
	return Nil
}

func (i PrettyInstructionNil) String() string {
	return i.Opcode().String()
}

// PrettyInstructionNewSimpleComposite
//
// Pretty form of InstructionNewSimpleComposite with resolved operands.
// Creates a new instance of a simple composite value of given kind and type, at address 0x0,
// and then pushes it onto the stack.
type PrettyInstructionNewSimpleComposite struct {
	Kind common.CompositeKind
	Type interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionNewSimpleComposite{}

func (PrettyInstructionNewSimpleComposite) Opcode() Opcode {
	return NewSimpleComposite
}

func (i PrettyInstructionNewSimpleComposite) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "kind", i.Kind, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	return sb.String()
}

// PrettyInstructionNewComposite
//
// Pretty form of InstructionNewComposite with resolved operands.
// Creates a new instance of the given composite kind and type, at address 0x0,
// and then pushes it onto the stack.
type PrettyInstructionNewComposite struct {
	Kind common.CompositeKind
	Type interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionNewComposite{}

func (PrettyInstructionNewComposite) Opcode() Opcode {
	return NewComposite
}

func (i PrettyInstructionNewComposite) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "kind", i.Kind, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	return sb.String()
}

// PrettyInstructionNewCompositeAt
//
// Pretty form of InstructionNewCompositeAt with resolved operands.
// Creates a new instance of the given composite kind and type, at the given address,
// and then pushes it onto the stack.
type PrettyInstructionNewCompositeAt struct {
	Kind    common.CompositeKind
	Type    interpreter.StaticType
	Address constant.DecodedConstant
}

var _ PrettyInstruction = PrettyInstructionNewCompositeAt{}

func (PrettyInstructionNewCompositeAt) Opcode() Opcode {
	return NewCompositeAt
}

func (i PrettyInstructionNewCompositeAt) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "kind", i.Kind, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	sb.WriteByte(' ')
	printfConstantArgument(&sb, "address", i.Address, false)
	return sb.String()
}

// PrettyInstructionNewPath
//
// Pretty form of InstructionNewPath with resolved operands.
// Creates a new path with the given domain and identifier and then pushes it onto the stack.
type PrettyInstructionNewPath struct {
	Domain     common.PathDomain
	Identifier constant.DecodedConstant
}

var _ PrettyInstruction = PrettyInstructionNewPath{}

func (PrettyInstructionNewPath) Opcode() Opcode {
	return NewPath
}

func (i PrettyInstructionNewPath) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "domain", i.Domain, false)
	sb.WriteByte(' ')
	printfConstantArgument(&sb, "identifier", i.Identifier, false)
	return sb.String()
}

// PrettyInstructionNewArray
//
// Pretty form of InstructionNewArray with resolved operands.
// Pops the given number of elements off the stack, creates a new array with the given type, size, and elements,
// and then pushes it onto the stack.
type PrettyInstructionNewArray struct {
	Type       interpreter.StaticType
	Size       uint16
	IsResource bool
}

var _ PrettyInstruction = PrettyInstructionNewArray{}

func (PrettyInstructionNewArray) Opcode() Opcode {
	return NewArray
}

func (i PrettyInstructionNewArray) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	sb.WriteByte(' ')
	printfArgument(&sb, "size", i.Size, false)
	sb.WriteByte(' ')
	printfArgument(&sb, "isResource", i.IsResource, false)
	return sb.String()
}

// PrettyInstructionNewDictionary
//
// Pretty form of InstructionNewDictionary with resolved operands.
// Pops the given number of entries off the stack (twice the number of the given size),
// creates a new dictionary with the given type, size, and entries,
// and then pushes it onto the stack.
type PrettyInstructionNewDictionary struct {
	Type       interpreter.StaticType
	Size       uint16
	IsResource bool
}

var _ PrettyInstruction = PrettyInstructionNewDictionary{}

func (PrettyInstructionNewDictionary) Opcode() Opcode {
	return NewDictionary
}

func (i PrettyInstructionNewDictionary) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	sb.WriteByte(' ')
	printfArgument(&sb, "size", i.Size, false)
	sb.WriteByte(' ')
	printfArgument(&sb, "isResource", i.IsResource, false)
	return sb.String()
}

// PrettyInstructionNewRef
//
// Pretty form of InstructionNewRef with resolved operands.
// Pops a value off the stack, creates a new reference with the given type,
// and then pushes it onto the stack.
type PrettyInstructionNewRef struct {
	Type       interpreter.StaticType
	IsImplicit bool
}

var _ PrettyInstruction = PrettyInstructionNewRef{}

func (PrettyInstructionNewRef) Opcode() Opcode {
	return NewRef
}

func (i PrettyInstructionNewRef) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	sb.WriteByte(' ')
	printfArgument(&sb, "isImplicit", i.IsImplicit, false)
	return sb.String()
}

// PrettyInstructionGetConstant
//
// Pretty form of InstructionGetConstant with resolved operands.
// Pushes the constant at the given index onto the stack.
type PrettyInstructionGetConstant struct {
	Constant constant.DecodedConstant
}

var _ PrettyInstruction = PrettyInstructionGetConstant{}

func (PrettyInstructionGetConstant) Opcode() Opcode {
	return GetConstant
}

func (i PrettyInstructionGetConstant) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfConstantArgument(&sb, "constant", i.Constant, false)
	return sb.String()
}

// PrettyInstructionNewClosure
//
// Pretty form of InstructionNewClosure with resolved operands.
// Creates a new closure with the function at the given index and pushes it onto the stack.
type PrettyInstructionNewClosure struct {
	Function string
	Upvalues []Upvalue
}

var _ PrettyInstruction = PrettyInstructionNewClosure{}

func (PrettyInstructionNewClosure) Opcode() Opcode {
	return NewClosure
}

func (i PrettyInstructionNewClosure) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfFunctionNameArgument(&sb, "function", i.Function, false)
	sb.WriteByte(' ')
	printfUpvalueArrayArgument(&sb, "upvalues", i.Upvalues, false)
	return sb.String()
}

// PrettyInstructionInvoke
//
// Pretty form of InstructionInvoke with resolved operands.
// Pops the function and arguments off the stack, invokes the function with the arguments,
// and then pushes the result back on to the stack.
// This instruction is only passes the argument count. If the argument types are needed, use `invokeTyped`.
type PrettyInstructionInvoke struct {
	TypeArgs   []interpreter.StaticType
	ArgCount   uint16
	ReturnType interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionInvoke{}

func (PrettyInstructionInvoke) Opcode() Opcode {
	return Invoke
}

func (i PrettyInstructionInvoke) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfPrettyTypeArrayArgument(&sb, "typeArgs", i.TypeArgs, false)
	sb.WriteByte(' ')
	printfArgument(&sb, "argCount", i.ArgCount, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "returnType", i.ReturnType, false)
	return sb.String()
}

// PrettyInstructionInvokeTyped
//
// Pretty form of InstructionInvokeTyped with resolved operands.
// Pops the function and arguments off the stack, invokes the function with the arguments, and then pushes the result back on to the stack. This instruction is a variant of `invoke` that includes the argument types.
type PrettyInstructionInvokeTyped struct {
	TypeArgs   []interpreter.StaticType
	ArgTypes   []interpreter.StaticType
	ReturnType interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionInvokeTyped{}

func (PrettyInstructionInvokeTyped) Opcode() Opcode {
	return InvokeTyped
}

func (i PrettyInstructionInvokeTyped) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfPrettyTypeArrayArgument(&sb, "typeArgs", i.TypeArgs, false)
	sb.WriteByte(' ')
	printfPrettyTypeArrayArgument(&sb, "argTypes", i.ArgTypes, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "returnType", i.ReturnType, false)
	return sb.String()
}

// PrettyInstructionGetMethod
//
// Pretty form of InstructionGetMethod with resolved operands.
// Pops a value off the stack, the receiver,
// and then pushes the value of the function at the given index onto the stack.
type PrettyInstructionGetMethod struct {
	Method       uint16
	ReceiverType interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionGetMethod{}

func (PrettyInstructionGetMethod) Opcode() Opcode {
	return GetMethod
}

func (i PrettyInstructionGetMethod) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "method", i.Method, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "receiverType", i.ReceiverType, false)
	return sb.String()
}

// PrettyInstructionDup
//
// Pretty form of InstructionDup with resolved operands.
// Pops a value off the stack, duplicates it, and then pushes the original and the copy back on to the stack.
type PrettyInstructionDup struct {
}

var _ PrettyInstruction = PrettyInstructionDup{}

func (PrettyInstructionDup) Opcode() Opcode {
	return Dup
}

func (i PrettyInstructionDup) String() string {
	return i.Opcode().String()
}

// PrettyInstructionDrop
//
// Pretty form of InstructionDrop with resolved operands.
// Pops a value off the stack and discards it.
type PrettyInstructionDrop struct {
}

var _ PrettyInstruction = PrettyInstructionDrop{}

func (PrettyInstructionDrop) Opcode() Opcode {
	return Drop
}

func (i PrettyInstructionDrop) String() string {
	return i.Opcode().String()
}

// PrettyInstructionDestroy
//
// Pretty form of InstructionDestroy with resolved operands.
// Pops a resource off the stack and then destroys it.
type PrettyInstructionDestroy struct {
}

var _ PrettyInstruction = PrettyInstructionDestroy{}

func (PrettyInstructionDestroy) Opcode() Opcode {
	return Destroy
}

func (i PrettyInstructionDestroy) String() string {
	return i.Opcode().String()
}

// PrettyInstructionUnwrap
//
// Pretty form of InstructionUnwrap with resolved operands.
// Pops a value off the stack.
// If the value is an optional, pushes the optional's inner value back on to the stack.
// Panics if the value is `nil`.
// If the value is not an option, pushes the value back on to the stack.
type PrettyInstructionUnwrap struct {
}

var _ PrettyInstruction = PrettyInstructionUnwrap{}

func (PrettyInstructionUnwrap) Opcode() Opcode {
	return Unwrap
}

func (i PrettyInstructionUnwrap) String() string {
	return i.Opcode().String()
}

// PrettyInstructionWrap
//
// Pretty form of InstructionWrap with resolved operands.
// Pops a value off the stack, wrap it with an optional, and pushes back onto the stack.
type PrettyInstructionWrap struct {
}

var _ PrettyInstruction = PrettyInstructionWrap{}

func (PrettyInstructionWrap) Opcode() Opcode {
	return Wrap
}

func (i PrettyInstructionWrap) String() string {
	return i.Opcode().String()
}

// PrettyInstructionTransfer
//
// Pretty form of InstructionTransfer with resolved operands.
// Pops a value off the stack, calls transfer, and then pushes it back on to the stack.
type PrettyInstructionTransfer struct {
}

var _ PrettyInstruction = PrettyInstructionTransfer{}

func (PrettyInstructionTransfer) Opcode() Opcode {
	return Transfer
}

func (i PrettyInstructionTransfer) String() string {
	return i.Opcode().String()
}

// PrettyInstructionTransferAndConvert
//
// Pretty form of InstructionTransferAndConvert with resolved operands.
// Pops a value off the stack, transfer and converts it to the given type,
// and then pushes it back on to the stack.
type PrettyInstructionTransferAndConvert struct {
	ValueType  interpreter.StaticType
	TargetType interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionTransferAndConvert{}

func (PrettyInstructionTransferAndConvert) Opcode() Opcode {
	return TransferAndConvert
}

func (i PrettyInstructionTransferAndConvert) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "valueType", i.ValueType, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "targetType", i.TargetType, false)
	return sb.String()
}

// PrettyInstructionConvert
//
// Pretty form of InstructionConvert with resolved operands.
// Pops a value off the stack, converts it to the given type,
// and then pushes it back on to the stack.
type PrettyInstructionConvert struct {
	ValueType  interpreter.StaticType
	TargetType interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionConvert{}

func (PrettyInstructionConvert) Opcode() Opcode {
	return Convert
}

func (i PrettyInstructionConvert) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "valueType", i.ValueType, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "targetType", i.TargetType, false)
	return sb.String()
}

// PrettyInstructionSimpleCast
//
// Pretty form of InstructionSimpleCast with resolved operands.
// Pops a value off the stack, casts it to the given type, and then pushes it back on to the stack.
type PrettyInstructionSimpleCast struct {
	TargetType interpreter.StaticType
	ValueType  interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionSimpleCast{}

func (PrettyInstructionSimpleCast) Opcode() Opcode {
	return SimpleCast
}

func (i PrettyInstructionSimpleCast) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "targetType", i.TargetType, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "valueType", i.ValueType, false)
	return sb.String()
}

// PrettyInstructionFailableCast
//
// Pretty form of InstructionFailableCast with resolved operands.
// Pops a value off the stack and casts it to the given type.
// If the value is a subtype of the given type, then casted value is pushed back on to the stack.
// If the value is not a subtype of the given type, then a `nil` is pushed to the stack instead.
type PrettyInstructionFailableCast struct {
	TargetType interpreter.StaticType
	ValueType  interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionFailableCast{}

func (PrettyInstructionFailableCast) Opcode() Opcode {
	return FailableCast
}

func (i PrettyInstructionFailableCast) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "targetType", i.TargetType, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "valueType", i.ValueType, false)
	return sb.String()
}

// PrettyInstructionForceCast
//
// Pretty form of InstructionForceCast with resolved operands.
// Pops a value off the stack, force-casts it to the given type,
// and then pushes it back on to the stack.
// Panics if the value is not a subtype of the given type.
type PrettyInstructionForceCast struct {
	TargetType interpreter.StaticType
	ValueType  interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionForceCast{}

func (PrettyInstructionForceCast) Opcode() Opcode {
	return ForceCast
}

func (i PrettyInstructionForceCast) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "targetType", i.TargetType, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "valueType", i.ValueType, false)
	return sb.String()
}

// PrettyInstructionDeref
//
// Pretty form of InstructionDeref with resolved operands.
// Pops an (optional) reference off the stack, dereferences it,
// and then pushes the value back on to the stack.
type PrettyInstructionDeref struct {
}

var _ PrettyInstruction = PrettyInstructionDeref{}

func (PrettyInstructionDeref) Opcode() Opcode {
	return Deref
}

func (i PrettyInstructionDeref) String() string {
	return i.Opcode().String()
}

// PrettyInstructionJump
//
// Pretty form of InstructionJump with resolved operands.
// Unconditionally jumps to the given instruction.
type PrettyInstructionJump struct {
	Target uint16
}

var _ PrettyInstruction = PrettyInstructionJump{}

func (PrettyInstructionJump) Opcode() Opcode {
	return Jump
}

func (i PrettyInstructionJump) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "target", i.Target, false)
	return sb.String()
}

// PrettyInstructionJumpIfFalse
//
// Pretty form of InstructionJumpIfFalse with resolved operands.
// Pops a value off the stack. If it is `false`, jumps to the target instruction.
type PrettyInstructionJumpIfFalse struct {
	Target uint16
}

var _ PrettyInstruction = PrettyInstructionJumpIfFalse{}

func (PrettyInstructionJumpIfFalse) Opcode() Opcode {
	return JumpIfFalse
}

func (i PrettyInstructionJumpIfFalse) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "target", i.Target, false)
	return sb.String()
}

// PrettyInstructionJumpIfTrue
//
// Pretty form of InstructionJumpIfTrue with resolved operands.
// Pops a value off the stack. If it is `true`, jumps to the target instruction.
type PrettyInstructionJumpIfTrue struct {
	Target uint16
}

var _ PrettyInstruction = PrettyInstructionJumpIfTrue{}

func (PrettyInstructionJumpIfTrue) Opcode() Opcode {
	return JumpIfTrue
}

func (i PrettyInstructionJumpIfTrue) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "target", i.Target, false)
	return sb.String()
}

// PrettyInstructionJumpIfNil
//
// Pretty form of InstructionJumpIfNil with resolved operands.
// Pops a value off the stack. If it is `nil`, jumps to the target instruction.
type PrettyInstructionJumpIfNil struct {
	Target uint16
}

var _ PrettyInstruction = PrettyInstructionJumpIfNil{}

func (PrettyInstructionJumpIfNil) Opcode() Opcode {
	return JumpIfNil
}

func (i PrettyInstructionJumpIfNil) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "target", i.Target, false)
	return sb.String()
}

// PrettyInstructionReturn
//
// Pretty form of InstructionReturn with resolved operands.
// Returns from the current function, without a value.
type PrettyInstructionReturn struct {
}

var _ PrettyInstruction = PrettyInstructionReturn{}

func (PrettyInstructionReturn) Opcode() Opcode {
	return Return
}

func (i PrettyInstructionReturn) String() string {
	return i.Opcode().String()
}

// PrettyInstructionReturnValue
//
// Pretty form of InstructionReturnValue with resolved operands.
// Pops a value off the stack and then returns from the current function with that value.
type PrettyInstructionReturnValue struct {
}

var _ PrettyInstruction = PrettyInstructionReturnValue{}

func (PrettyInstructionReturnValue) Opcode() Opcode {
	return ReturnValue
}

func (i PrettyInstructionReturnValue) String() string {
	return i.Opcode().String()
}

// PrettyInstructionSame
//
// Pretty form of InstructionSame with resolved operands.
// Pops two values off the stack, checks if the first value is the same as the second,
// and then pushes the result back on to the stack.
type PrettyInstructionSame struct {
}

var _ PrettyInstruction = PrettyInstructionSame{}

func (PrettyInstructionSame) Opcode() Opcode {
	return Same
}

func (i PrettyInstructionSame) String() string {
	return i.Opcode().String()
}

// PrettyInstructionEqual
//
// Pretty form of InstructionEqual with resolved operands.
// Pops two values off the stack, checks if the first value is equal to the second,
// and then pushes the result back on to the stack.
type PrettyInstructionEqual struct {
}

var _ PrettyInstruction = PrettyInstructionEqual{}

func (PrettyInstructionEqual) Opcode() Opcode {
	return Equal
}

func (i PrettyInstructionEqual) String() string {
	return i.Opcode().String()
}

// PrettyInstructionNotEqual
//
// Pretty form of InstructionNotEqual with resolved operands.
// Pops two values off the stack, checks if the first value is not equal to the second,
// and then pushes the result back on to the stack.
type PrettyInstructionNotEqual struct {
}

var _ PrettyInstruction = PrettyInstructionNotEqual{}

func (PrettyInstructionNotEqual) Opcode() Opcode {
	return NotEqual
}

func (i PrettyInstructionNotEqual) String() string {
	return i.Opcode().String()
}

// PrettyInstructionNot
//
// Pretty form of InstructionNot with resolved operands.
// Pops a boolean value off the stack, negates it,
// and then pushes the result back on to the stack.
type PrettyInstructionNot struct {
}

var _ PrettyInstruction = PrettyInstructionNot{}

func (PrettyInstructionNot) Opcode() Opcode {
	return Not
}

func (i PrettyInstructionNot) String() string {
	return i.Opcode().String()
}

// PrettyInstructionAdd
//
// Pretty form of InstructionAdd with resolved operands.
// Pops two number values off the stack, adds them together,
// and then pushes the result back on to the stack.
type PrettyInstructionAdd struct {
}

var _ PrettyInstruction = PrettyInstructionAdd{}

func (PrettyInstructionAdd) Opcode() Opcode {
	return Add
}

func (i PrettyInstructionAdd) String() string {
	return i.Opcode().String()
}

// PrettyInstructionSubtract
//
// Pretty form of InstructionSubtract with resolved operands.
// Pops two number values off the stack, subtracts the second from the first,
// and then pushes the result back on to the stack.
type PrettyInstructionSubtract struct {
}

var _ PrettyInstruction = PrettyInstructionSubtract{}

func (PrettyInstructionSubtract) Opcode() Opcode {
	return Subtract
}

func (i PrettyInstructionSubtract) String() string {
	return i.Opcode().String()
}

// PrettyInstructionMultiply
//
// Pretty form of InstructionMultiply with resolved operands.
// Pops two number values off the stack, multiplies them together,
// and then pushes the result back on to the stack.
type PrettyInstructionMultiply struct {
}

var _ PrettyInstruction = PrettyInstructionMultiply{}

func (PrettyInstructionMultiply) Opcode() Opcode {
	return Multiply
}

func (i PrettyInstructionMultiply) String() string {
	return i.Opcode().String()
}

// PrettyInstructionDivide
//
// Pretty form of InstructionDivide with resolved operands.
// Pops two number values off the stack, divides the first by the second,
// and then pushes the result back on to the stack.
type PrettyInstructionDivide struct {
}

var _ PrettyInstruction = PrettyInstructionDivide{}

func (PrettyInstructionDivide) Opcode() Opcode {
	return Divide
}

func (i PrettyInstructionDivide) String() string {
	return i.Opcode().String()
}

// PrettyInstructionMod
//
// Pretty form of InstructionMod with resolved operands.
// Pops two number values off the stack, calculates the modulus of the first by the second,
// and then pushes the result back on to the stack.
type PrettyInstructionMod struct {
}

var _ PrettyInstruction = PrettyInstructionMod{}

func (PrettyInstructionMod) Opcode() Opcode {
	return Mod
}

func (i PrettyInstructionMod) String() string {
	return i.Opcode().String()
}

// PrettyInstructionNegate
//
// Pretty form of InstructionNegate with resolved operands.
// Pops a number value off the stack, negates it,
// and then pushes the result back on to the stack.
type PrettyInstructionNegate struct {
}

var _ PrettyInstruction = PrettyInstructionNegate{}

func (PrettyInstructionNegate) Opcode() Opcode {
	return Negate
}

func (i PrettyInstructionNegate) String() string {
	return i.Opcode().String()
}

// PrettyInstructionLess
//
// Pretty form of InstructionLess with resolved operands.
// Pops two values off the stack, checks if the first value is less than the second,
// and then pushes the result back on to the stack.
type PrettyInstructionLess struct {
}

var _ PrettyInstruction = PrettyInstructionLess{}

func (PrettyInstructionLess) Opcode() Opcode {
	return Less
}

func (i PrettyInstructionLess) String() string {
	return i.Opcode().String()
}

// PrettyInstructionLessOrEqual
//
// Pretty form of InstructionLessOrEqual with resolved operands.
// Pops two values off the stack, checks if the first value is less than or equal to the second,
// and then pushes the result back on to the stack.
type PrettyInstructionLessOrEqual struct {
}

var _ PrettyInstruction = PrettyInstructionLessOrEqual{}

func (PrettyInstructionLessOrEqual) Opcode() Opcode {
	return LessOrEqual
}

func (i PrettyInstructionLessOrEqual) String() string {
	return i.Opcode().String()
}

// PrettyInstructionGreater
//
// Pretty form of InstructionGreater with resolved operands.
// Pops two values off the stack, checks if the first value is greater than the second,
// and then pushes the result back on to the stack.
type PrettyInstructionGreater struct {
}

var _ PrettyInstruction = PrettyInstructionGreater{}

func (PrettyInstructionGreater) Opcode() Opcode {
	return Greater
}

func (i PrettyInstructionGreater) String() string {
	return i.Opcode().String()
}

// PrettyInstructionGreaterOrEqual
//
// Pretty form of InstructionGreaterOrEqual with resolved operands.
// Pops two values off the stack, checks if the first value is greater than or equal to the second,
// and then pushes the result back on to the stack.
type PrettyInstructionGreaterOrEqual struct {
}

var _ PrettyInstruction = PrettyInstructionGreaterOrEqual{}

func (PrettyInstructionGreaterOrEqual) Opcode() Opcode {
	return GreaterOrEqual
}

func (i PrettyInstructionGreaterOrEqual) String() string {
	return i.Opcode().String()
}

// PrettyInstructionBitwiseOr
//
// Pretty form of InstructionBitwiseOr with resolved operands.
// Pops two integer values off the stack, performs a bitwise OR operation on them,
// and then pushes the result back on to the stack.
type PrettyInstructionBitwiseOr struct {
}

var _ PrettyInstruction = PrettyInstructionBitwiseOr{}

func (PrettyInstructionBitwiseOr) Opcode() Opcode {
	return BitwiseOr
}

func (i PrettyInstructionBitwiseOr) String() string {
	return i.Opcode().String()
}

// PrettyInstructionBitwiseXor
//
// Pretty form of InstructionBitwiseXor with resolved operands.
// Pops two integer values off the stack, performs a bitwise XOR operation on them,
// and then pushes the result back on to the stack.
type PrettyInstructionBitwiseXor struct {
}

var _ PrettyInstruction = PrettyInstructionBitwiseXor{}

func (PrettyInstructionBitwiseXor) Opcode() Opcode {
	return BitwiseXor
}

func (i PrettyInstructionBitwiseXor) String() string {
	return i.Opcode().String()
}

// PrettyInstructionBitwiseAnd
//
// Pretty form of InstructionBitwiseAnd with resolved operands.
// Pops two integer values off the stack, performs a bitwise AND operation on them,
// and then pushes the result back on to the stack.
type PrettyInstructionBitwiseAnd struct {
}

var _ PrettyInstruction = PrettyInstructionBitwiseAnd{}

func (PrettyInstructionBitwiseAnd) Opcode() Opcode {
	return BitwiseAnd
}

func (i PrettyInstructionBitwiseAnd) String() string {
	return i.Opcode().String()
}

// PrettyInstructionBitwiseLeftShift
//
// Pretty form of InstructionBitwiseLeftShift with resolved operands.
// Pops two integer values off the stack, performs a bitwise left shift operation on them,
// and then pushes the result back on to the stack.
type PrettyInstructionBitwiseLeftShift struct {
}

var _ PrettyInstruction = PrettyInstructionBitwiseLeftShift{}

func (PrettyInstructionBitwiseLeftShift) Opcode() Opcode {
	return BitwiseLeftShift
}

func (i PrettyInstructionBitwiseLeftShift) String() string {
	return i.Opcode().String()
}

// PrettyInstructionBitwiseRightShift
//
// Pretty form of InstructionBitwiseRightShift with resolved operands.
// Pops two integer values off the stack, performs a bitwise right shift operation on them,
// and then pushes the result back on to the stack.
type PrettyInstructionBitwiseRightShift struct {
}

var _ PrettyInstruction = PrettyInstructionBitwiseRightShift{}

func (PrettyInstructionBitwiseRightShift) Opcode() Opcode {
	return BitwiseRightShift
}

func (i PrettyInstructionBitwiseRightShift) String() string {
	return i.Opcode().String()
}

// PrettyInstructionIterator
//
// Pretty form of InstructionIterator with resolved operands.
// Pops an iterable value from the stack, get an iterator to it, and push the iterator back onto the stack.
type PrettyInstructionIterator struct {
}

var _ PrettyInstruction = PrettyInstructionIterator{}

func (PrettyInstructionIterator) Opcode() Opcode {
	return Iterator
}

func (i PrettyInstructionIterator) String() string {
	return i.Opcode().String()
}

// PrettyInstructionIteratorHasNext
//
// Pretty form of InstructionIteratorHasNext with resolved operands.
// Pops a value-iterator from the stack, calls `hasNext()` method on it, and push the result back onto the stack.
type PrettyInstructionIteratorHasNext struct {
}

var _ PrettyInstruction = PrettyInstructionIteratorHasNext{}

func (PrettyInstructionIteratorHasNext) Opcode() Opcode {
	return IteratorHasNext
}

func (i PrettyInstructionIteratorHasNext) String() string {
	return i.Opcode().String()
}

// PrettyInstructionIteratorNext
//
// Pretty form of InstructionIteratorNext with resolved operands.
// Pops a value-iterator from the stack, calls `next()` method on it, and push the result back onto the stack.
type PrettyInstructionIteratorNext struct {
}

var _ PrettyInstruction = PrettyInstructionIteratorNext{}

func (PrettyInstructionIteratorNext) Opcode() Opcode {
	return IteratorNext
}

func (i PrettyInstructionIteratorNext) String() string {
	return i.Opcode().String()
}

// PrettyInstructionIteratorEnd
//
// Pretty form of InstructionIteratorEnd with resolved operands.
// Pops a value-iterator from the stack end invalidates it.
// The iterator may no longer be used after this instruction.
type PrettyInstructionIteratorEnd struct {
}

var _ PrettyInstruction = PrettyInstructionIteratorEnd{}

func (PrettyInstructionIteratorEnd) Opcode() Opcode {
	return IteratorEnd
}

func (i PrettyInstructionIteratorEnd) String() string {
	return i.Opcode().String()
}

// PrettyInstructionEmitEvent
//
// Pretty form of InstructionEmitEvent with resolved operands.
// Pops arguments of the stack and then emits an event with the given type with them.
type PrettyInstructionEmitEvent struct {
	Type     interpreter.StaticType
	ArgCount uint16
}

var _ PrettyInstruction = PrettyInstructionEmitEvent{}

func (PrettyInstructionEmitEvent) Opcode() Opcode {
	return EmitEvent
}

func (i PrettyInstructionEmitEvent) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	sb.WriteByte(' ')
	printfArgument(&sb, "argCount", i.ArgCount, false)
	return sb.String()
}

// PrettyInstructionLoop
//
// Pretty form of InstructionLoop with resolved operands.
// Indicates the start of a loop.
type PrettyInstructionLoop struct {
}

var _ PrettyInstruction = PrettyInstructionLoop{}

func (PrettyInstructionLoop) Opcode() Opcode {
	return Loop
}

func (i PrettyInstructionLoop) String() string {
	return i.Opcode().String()
}

// PrettyInstructionStatement
//
// Pretty form of InstructionStatement with resolved operands.
// Indicates the start of a statement.
type PrettyInstructionStatement struct {
}

var _ PrettyInstruction = PrettyInstructionStatement{}

func (PrettyInstructionStatement) Opcode() Opcode {
	return Statement
}

func (i PrettyInstructionStatement) String() string {
	return i.Opcode().String()
}

// PrettyInstructionTemplateString
//
// Pretty form of InstructionTemplateString with resolved operands.
// Represents a string template with an array of values (strings) and an array of expressions, pops both off the stack.
type PrettyInstructionTemplateString struct {
	ExprSize uint16
}

var _ PrettyInstruction = PrettyInstructionTemplateString{}

func (PrettyInstructionTemplateString) Opcode() Opcode {
	return TemplateString
}

func (i PrettyInstructionTemplateString) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfArgument(&sb, "exprSize", i.ExprSize, false)
	return sb.String()
}

// PrettyInstructionGetTypeIndex
//
// Pretty form of InstructionGetTypeIndex with resolved operands.
// Pops a value off the stack, the target,
// and then pushes the value of the type key at the given index onto the stack.
type PrettyInstructionGetTypeIndex struct {
	Type interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionGetTypeIndex{}

func (PrettyInstructionGetTypeIndex) Opcode() Opcode {
	return GetTypeIndex
}

func (i PrettyInstructionGetTypeIndex) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	return sb.String()
}

// PrettyInstructionRemoveTypeIndex
//
// Pretty form of InstructionRemoveTypeIndex with resolved operands.
// Pops a value off the stack, the target.
// Remove the value of the given type key from the target.
// Additionally destroy if removed type is resource.
type PrettyInstructionRemoveTypeIndex struct {
	Type interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionRemoveTypeIndex{}

func (PrettyInstructionRemoveTypeIndex) Opcode() Opcode {
	return RemoveTypeIndex
}

func (i PrettyInstructionRemoveTypeIndex) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	return sb.String()
}

// PrettyInstructionSetTypeIndex
//
// Pretty form of InstructionSetTypeIndex with resolved operands.
// Pops two values off the stack, the target and the value,
// and then sets the type key at the given index of the target to the value, and pushes it onto the stack.
type PrettyInstructionSetTypeIndex struct {
	Type interpreter.StaticType
}

var _ PrettyInstruction = PrettyInstructionSetTypeIndex{}

func (PrettyInstructionSetTypeIndex) Opcode() Opcode {
	return SetTypeIndex
}

func (i PrettyInstructionSetTypeIndex) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "type", i.Type, false)
	return sb.String()
}

// PrettyInstructionSetAttachmentBase
//
// Pretty form of InstructionSetAttachmentBase with resolved operands.
// Pops two values off the stack, the attachment and the base, sets the attachment's base value to base.
type PrettyInstructionSetAttachmentBase struct {
}

var _ PrettyInstruction = PrettyInstructionSetAttachmentBase{}

func (PrettyInstructionSetAttachmentBase) Opcode() Opcode {
	return SetAttachmentBase
}

func (i PrettyInstructionSetAttachmentBase) String() string {
	return i.Opcode().String()
}

// PrettyInstructionGetFieldLocal
//
// Pretty form of InstructionGetFieldLocal with resolved operands.
// Pops a value off the stack, the target,
// and then pushes the value of the field at the given index onto the stack.
type PrettyInstructionGetFieldLocal struct {
	FieldName    constant.DecodedConstant
	AccessedType interpreter.StaticType
	Local        uint16
}

var _ PrettyInstruction = PrettyInstructionGetFieldLocal{}

func (PrettyInstructionGetFieldLocal) Opcode() Opcode {
	return GetFieldLocal
}

func (i PrettyInstructionGetFieldLocal) String() string {
	var sb strings.Builder
	sb.WriteString(i.Opcode().String())
	sb.WriteByte(' ')
	printfConstantArgument(&sb, "fieldName", i.FieldName, false)
	sb.WriteByte(' ')
	printfTypeArgument(&sb, "accessedType", i.AccessedType, false)
	sb.WriteByte(' ')
	printfArgument(&sb, "local", i.Local, false)
	return sb.String()
}

func DecodeInstruction(ip *uint16, code []byte) Instruction {
	switch Opcode(decodeByte(ip, code)) {
	case Unknown:
		return InstructionUnknown{}
	case GetLocal:
		return DecodeGetLocal(ip, code)
	case SetLocal:
		return DecodeSetLocal(ip, code)
	case GetUpvalue:
		return DecodeGetUpvalue(ip, code)
	case SetUpvalue:
		return DecodeSetUpvalue(ip, code)
	case CloseUpvalue:
		return DecodeCloseUpvalue(ip, code)
	case GetGlobal:
		return DecodeGetGlobal(ip, code)
	case SetGlobal:
		return DecodeSetGlobal(ip, code)
	case GetField:
		return DecodeGetField(ip, code)
	case RemoveField:
		return DecodeRemoveField(ip, code)
	case SetField:
		return DecodeSetField(ip, code)
	case GetIndex:
		return InstructionGetIndex{}
	case RemoveIndex:
		return DecodeRemoveIndex(ip, code)
	case SetIndex:
		return InstructionSetIndex{}
	case Void:
		return InstructionVoid{}
	case True:
		return InstructionTrue{}
	case False:
		return InstructionFalse{}
	case Nil:
		return InstructionNil{}
	case NewSimpleComposite:
		return DecodeNewSimpleComposite(ip, code)
	case NewComposite:
		return DecodeNewComposite(ip, code)
	case NewCompositeAt:
		return DecodeNewCompositeAt(ip, code)
	case NewPath:
		return DecodeNewPath(ip, code)
	case NewArray:
		return DecodeNewArray(ip, code)
	case NewDictionary:
		return DecodeNewDictionary(ip, code)
	case NewRef:
		return DecodeNewRef(ip, code)
	case GetConstant:
		return DecodeGetConstant(ip, code)
	case NewClosure:
		return DecodeNewClosure(ip, code)
	case Invoke:
		return DecodeInvoke(ip, code)
	case InvokeTyped:
		return DecodeInvokeTyped(ip, code)
	case GetMethod:
		return DecodeGetMethod(ip, code)
	case Dup:
		return InstructionDup{}
	case Drop:
		return InstructionDrop{}
	case Destroy:
		return InstructionDestroy{}
	case Unwrap:
		return InstructionUnwrap{}
	case Wrap:
		return InstructionWrap{}
	case Transfer:
		return InstructionTransfer{}
	case TransferAndConvert:
		return DecodeTransferAndConvert(ip, code)
	case Convert:
		return DecodeConvert(ip, code)
	case SimpleCast:
		return DecodeSimpleCast(ip, code)
	case FailableCast:
		return DecodeFailableCast(ip, code)
	case ForceCast:
		return DecodeForceCast(ip, code)
	case Deref:
		return InstructionDeref{}
	case Jump:
		return DecodeJump(ip, code)
	case JumpIfFalse:
		return DecodeJumpIfFalse(ip, code)
	case JumpIfTrue:
		return DecodeJumpIfTrue(ip, code)
	case JumpIfNil:
		return DecodeJumpIfNil(ip, code)
	case Return:
		return InstructionReturn{}
	case ReturnValue:
		return InstructionReturnValue{}
	case Same:
		return InstructionSame{}
	case Equal:
		return InstructionEqual{}
	case NotEqual:
		return InstructionNotEqual{}
	case Not:
		return InstructionNot{}
	case Add:
		return InstructionAdd{}
	case Subtract:
		return InstructionSubtract{}
	case Multiply:
		return InstructionMultiply{}
	case Divide:
		return InstructionDivide{}
	case Mod:
		return InstructionMod{}
	case Negate:
		return InstructionNegate{}
	case Less:
		return InstructionLess{}
	case LessOrEqual:
		return InstructionLessOrEqual{}
	case Greater:
		return InstructionGreater{}
	case GreaterOrEqual:
		return InstructionGreaterOrEqual{}
	case BitwiseOr:
		return InstructionBitwiseOr{}
	case BitwiseXor:
		return InstructionBitwiseXor{}
	case BitwiseAnd:
		return InstructionBitwiseAnd{}
	case BitwiseLeftShift:
		return InstructionBitwiseLeftShift{}
	case BitwiseRightShift:
		return InstructionBitwiseRightShift{}
	case Iterator:
		return InstructionIterator{}
	case IteratorHasNext:
		return InstructionIteratorHasNext{}
	case IteratorNext:
		return InstructionIteratorNext{}
	case IteratorEnd:
		return InstructionIteratorEnd{}
	case EmitEvent:
		return DecodeEmitEvent(ip, code)
	case Loop:
		return InstructionLoop{}
	case Statement:
		return InstructionStatement{}
	case TemplateString:
		return DecodeTemplateString(ip, code)
	case GetTypeIndex:
		return DecodeGetTypeIndex(ip, code)
	case RemoveTypeIndex:
		return DecodeRemoveTypeIndex(ip, code)
	case SetTypeIndex:
		return DecodeSetTypeIndex(ip, code)
	case SetAttachmentBase:
		return InstructionSetAttachmentBase{}
	case GetFieldLocal:
		return DecodeGetFieldLocal(ip, code)
	}

	panic(errors.NewUnreachableError())
}
